# MJ경매 입찰가 전달 프로세스 구축 및 제안 보고서 (업데이트)

## 1. 개요

본 보고서는 현재 MJ경매 시스템(MAPS) 내에 구현된 기능들을 기반으로, 회원에게 정확하고 신속하게 **'입찰가'를 전달하고 확인 여부를 추적하는 프로세스**를 확립하기 위해 작성되었습니다.

## 2. 현재 시스템 및 기본 전제

1. 회원은 시스템에 직접 입찰가를 입력하지 않으며, 물건에 대해 '입찰확정' 또는 '입찰취소' 의사만 전달합니다.
2. 관리자가 외부에서 산정한 입찰가를 물건 상세페이지에 입력합니다.
3. 물건 관리의 `bid_state` 필드는 현재 `신규`, `전달완료` 등의 상태값을 가지며, 이를 활용하여 회원의 진행 상태를 세분화합니다.
4. 대시보드에는 이미 '입찰가 미입력' 물건 현황 리스트가 구성되어 있어 모니터링이 가능합니다.

---

## 3. 입찰가 전달 표준 프로세스 (To-Be)

### [1단계] 물건 추천 및 회원의 입찰 확정

1. **관리자:** 신규 물건을 등록하고 물건 상태를 `추천`으로 변경한 후, 텔레그램으로 `추천물건 안내` 전송. 이 시점의 `bid_state`는 **`신규`** 상태입니다.
2. **회원:** 메시지를 받고 앱/텔레그램을 통해 **[입찰확정]** 액션 수행. 물건 상태값은 `입찰`로 넘어갑니다.

### [2단계] 입찰가 산정 및 시스템 등록

1. **관리자:** 관리자 대시보드의 `입찰가 미입력 리스트` 및 전용 탭에서 확정된 물건들을 확인. 입찰가를 산정합니다.
2. **관리자:** 산정된 금액을 물건의 `bidprice`에 입력 및 저장.

### [3단계] 텔레그램을 통한 입찰가 전달 (`전달완료`)

1. **관리자:** 입찰가를 입력한 물건 리스트에서 대상을 체크하고 `입찰가 안내`를 텔레그램으로 전송합니다.
2. **상태 변경:** 전송 성공 시 해당 물건의 `bid_state`가 **`전달완료`**로 자동 반영됩니다.
3. **발송 메시지 처리:** 텔레그램에는 **"입찰가가 도착했습니다."**라는 안내 문구와 함께, 앱으로 진입하여 확인할 수 있는 고유 키(고유 물건 ID 포함 URL)를 담은 버튼/링크가 제공됩니다.

### [4단계] 회원의 입찰가 확인 및 상태 업데이트 (`확인완료`)

회원 전용 대시보드(월별 조회 및 리스트) 및 아이템 카드 UI에는 `bid_state`에 따라 입찰가 노출 방식이 동적으로 변경됩니다.

1. **상태 분기별 UI 처리:**
   * `bid_state` == **신규 (또는 미입력)**: 입찰가 영역에 `(미정)`으로 표시됩니다.
   * `bid_state` == **전달완료**: 입찰가가 **흐리게(블러 텍스트 등의 효과)** 처리되어 보여집니다. 회원의 클릭/터치를 유도합니다.
   * `bid_state` == **확인완료**: 입찰가가 **선명하게** 표시됩니다.

2. **클릭 및 상태 연동:**
   * 회원이 **흐리게 처리된 입찰가** 텍스트(또는 카드)를 클릭하면, 시스템 백엔드로 해당 물건의 입찰가를 확인했다는 요청이 전송됩니다.
   * 서버는 해당 물건의 `bid_state`를 **`<span style="color: blue; font-weight: bold;">확인완료</span>`**로 업데이트합니다.
   * 업데이트 응답이 오면, 회원의 화면(UI)에서 즉시 입찰가가 흐림 효과에서 **선명한 표시**로 전환됩니다.

### [5단계] 회원의 실제 입찰 진행

회원은 선명하게 확인된 입찰가를 바탕으로 실제 법원 또는 대리인을 통해 입찰에 적극 참여합니다.

---

## 4. 기대 효과

* **상호작용 유도:** 가려진 정보(흐린 입찰가)를 터치하게 함으로써, 회원에게 시스템 참여에 대한 몰입감을 부여합니다.
* **명확한 전달 확인:** `신규` -> `전달완료` -> `확인완료`라는 명확한 트래킹 지표를 통해, 관리자는 어떤 회원이 입찰가를 아직 열람하지 않았는지 완벽하게 파악할 수 있습니다.
* **분쟁 방지:** "입찰가를 전달받지 못했다"는 커뮤니케이션 오해를 시스템적 로그(`확인완료` 상태 변경 시점)로 원천 차단합니다.
