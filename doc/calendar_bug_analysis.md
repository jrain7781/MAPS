# 입찰일정 달력 이미지 버튼 소실 및 UI 정렬 분석 보고서

## 1. 이미지 초록색 버튼 소실 원인 분석
### [현상]
스크롤을 위로 올려 과거 데이터를 조회하고 다시 내려오면 일부 물건의 초록색(이미지 있음) 버튼이 사라지는 현상.

### [원인 파악]
- **데이터 구조의 차이**: 현재 버튼 노출 로직은 각 데이터의 `has_images` 필드(true/false)에 의존합니다.
- **과거 데이터 누락**: `SheetDB.gs`의 `readAllData` 함수는 신규 이미지 테이블(`item_images`)에 데이터가 있는 경우에만 `has_images`를 `true`로 설정합니다.
- **레거시 데이터 처리 미흡**: 과거에 등록된 물건들은 `item_images` 테이블 대신 `items` 시트의 `image_id` 컬럼에 직접 이미지 주소가 기록되어 있습니다. `ImageService.gs`에서 데이터를 가공할 때 `image_id` 컬럼에 데이터가 있어도 `has_images` 플래그를 업데이트해주지 않아, 과거 주차로 스크롤하여 오래된 데이터를 다시 렌더링할 때 버튼이 나오지 않게 됩니다.

## 2. 물건 카드 UI 정렬 및 반응형 개선 분석
### [사건번호 정렬]
- **현재**: `.sakun-no-cell` 클래스에 `text-align: center;`가 적용되어 사건번호가 중앙에 위치합니다. 이로 인해 앞의 초록색 버튼 위치가 들쭉날쭉하게 보입니다.
- **개선**: `text-align: left;`로 변경하여 모든 버튼과 사건번호의 시작점을 수직으로 맞춥니다.

### [반응형 줄바꿈 및 말줄임 처리]
- **현재**: 모바일/좁은 화면에서 `truncate` 클래스를 사용하여 강제로 한 줄로 자르고 `...`을 표시합니다.
- **개선**: 
  - `truncate` 클래스를 제거하고 `word-break: break-all;`을 적용하여 아래 공간이 있을 경우 줄바꿈이 일어나도록 합니다.
  - 줄바꿈이 일어난 후에도 공간이 부족할 경우에만 `...`이 나오도록 `-webkit-line-clamp` 속성을 활용합니다.

## 3. 조치 계획
1. **[Backend] `ImageService.gs` 수정**: `readAllDataWithImageIds` 함수에서 `image_ids`가 존재하는 경우 `has_images` 플래그도 함께 `true`로 설정하도록 보완합니다.
2. **[CSS] `css.html` 수정**: `.sakun-no-cell`의 정렬을 `left`로 변경하고, 줄바꿈 관련 스타일을 추가합니다.
3. **[Frontend] `js-app.html` 수정**: 물건 카드 렌더링 시 `truncate` 클래스를 제거하고 유연한 줄바꿈 구조로 변경합니다.
