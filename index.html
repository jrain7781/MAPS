<!DOCTYPE html>
<html>

<head>
    <base target="_top">
    <title>MJÍ≤ΩÎß§ ÏûÖÏ∞∞ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</title>
    <!-- Re-uploaded: 2026-01-23 -->

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <?!= include('css'); ?>
</head>

<body class="p-0">

    <!-- ÏÑúÎ≤Ñ(doGet)ÏóêÏÑú Î∞õÏùÄ ÌååÎùºÎØ∏ÌÑ∞ Ï£ºÏûÖ: redirect/iframeÏóêÏÑúÎèÑ ÌöåÏõê ÌÜ†ÌÅ∞ÏùÑ ÏïàÏ†ïÏ†ÅÏúºÎ°ú Ïù∏Ïãù -->
    <script>
        window.__MJ_GAS_PARAMS__ = <?!= JSON.stringify(typeof __params !== 'undefined' ? __params : {}) ?>;
    </script>

    <!-- z-index: Î™®Îã¨(.modal z-index:1000) ÏúÑÏóê Îñ†Ïïº Ìï® -->
    <div id="statusMessage"
        class="fixed top-0 left-1/2 transform -translate-x-1/2 mt-4 z-[9999] content-hidden p-4 rounded-lg text-sm shadow-xl"
        role="alert"></div>
    <div id="mobileMenuOverlay" class="mobile-menu-overlay" onclick="toggleMobileMenu()"></div>

    <header class="bg-white shadow-md relative z-30">
        <div id="header-container" class="max-w-full mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <button onclick="toggleMobileMenu()"
                    class="hamburger-btn p-2 rounded-md text-gray-600 hover:text-gray-900 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
                <div class="text-2xl font-extrabold text-gray-900 flex-1 text-center md:text-left md:flex-none">MJÍ≤ΩÎß§
                </div>
                <!-- Ï†ÑÏ≤¥ÌôîÎ©¥/ÎÑìÍ≤å Î≥¥Í∏∞ ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä (ÌöåÏõê Î™®ÎìúÏóêÏÑúÎäî Ïà®ÍπÄ) -->
                <div class="flex items-center space-x-2" id="header-icons-area">
                    <button id="btn-fullscreen" onclick="toggleFullScreen()" title="Ï†ÑÏ≤¥ÌôîÎ©¥"
                        class="p-2 rounded-md text-gray-500 hover:text-indigo-600 hover:bg-gray-100 transition focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5">
                            </path>
                        </svg>
                    </button>
                    <!-- ÌöåÏõê Î™®Îìú Ï†ÑÏö©: ÌôîÎ©¥ ÎÇ¥Î¶¨Í∏∞(Îã´Í∏∞) Î≤ÑÌäº -->
                    <button id="btn-close-webapp" onclick="closeMemberWebApp()" title="ÌôîÎ©¥ ÎÇ¥Î¶¨Í∏∞"
                        class="content-hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                            </path>
                        </svg>
                    </button>
                </div>
                <div class="w-10 md:hidden"></div>
            </div>
        </div>
    </header>

    <div class="flex h-[calc(100vh-64px)] overflow-hidden bg-gray-100">

        <nav id="mainSidebar" class="sidebar">
            <div class="md:hidden flex justify-end px-4 mb-2">
                <button onclick="toggleMobileMenu()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>

            <button id="menu-Dashboard" onclick="navigateTo('Dashboard')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150 menu-active">Îç∞Ïâ¨Î≥¥Îìú</button>
            <button id="menu-BiddingSchedule" onclick="navigateTo('BiddingSchedule')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150">ÏûÖÏ∞∞ÏùºÏ†ï</button>
            <button id="menu-ItemManagement" onclick="navigateTo('ItemManagement')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150">ÏûÖÏ∞∞Î¨ºÍ±¥
                Í¥ÄÎ¶¨</button>
            <button id="menu-MemberManagement" onclick="navigateTo('MemberManagement')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150">ÌöåÏõê
                Í¥ÄÎ¶¨</button>
            <button id="menu-ClassManagement" onclick="navigateTo('ClassManagement')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150">ÏàòÏóÖ
                Í¥ÄÎ¶¨</button>
            <button id="menu-ClassSchedule" onclick="navigateTo('ClassSchedule')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150">ÏàòÏóÖ
                ÌöåÏ∞®</button>
            <button id="menu-Preferences" onclick="navigateTo('Preferences')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150 mt-auto border-t">ÌôòÍ≤ΩÏÑ§Ï†ï</button>

            <!-- ÌöåÏõê Ï†ÑÏö© Î©îÎâ¥ (Í∏∞Î≥∏ Ïà®ÍπÄ, JSÏóêÏÑú ÌöåÏõê Î™®ÎìúÏùº Îïå ÌëúÏãú) -->
            <button id="menu-MemberBiddingSchedule" onclick="navigateTo('MemberItemList')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150 content-hidden member-only-menu menu-active">üìã
                ÏûÖÏ∞∞Î¶¨Ïä§Ìä∏</button>
            <button id="menu-MemberDashboard" onclick="navigateTo('MemberDashboard')"
                class="py-4 px-6 text-base text-left text-gray-700 hover:bg-gray-100 transition duration-150 content-hidden member-only-menu">üìä
                ÏõîÎ≥ÑÏ°∞Ìöå</button>
        </nav>

        <div class="flex-1 overflow-y-auto pb-0">

            <div id="Dashboard" class="tab-content h-full p-4 md:p-8 overflow-y-auto content-hidden">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 w-full mb-6">
                    <div
                        class="lg:col-span-3 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden min-h-[680px] flex flex-col">
                        <div class="bg-white border-b border-gray-200 px-4 py-3">
                            <div class="flex justify-between items-center mb-1">
                                <h2 class="text-sm font-bold text-gray-800">ÏûÖÏ∞∞Í∞Ä ÎØ∏ÏûÖÎ†• ÌòÑÌô©</h2>
                                <select id="missingBidFilterMember" onchange="renderMissingBidDashboard()"
                                    class="text-xs text-gray-800 bg-gray-50 border border-gray-300 rounded px-2 py-1 focus:outline-none cursor-pointer">
                                    <option value="All">Ï†ÑÏ≤¥</option>
                                    <option value="ÎåÄÌëúÎãò" selected>ÎåÄÌëúÎãò</option>
                                </select>
                            </div>
                        </div>
                        <div class="p-0 flex-1">
                            <table class="w-full text-left border-collapse">
                                <thead>
                                    <tr
                                        class="bg-gray-50 border-b border-gray-200 text-gray-600 text-sm uppercase leading-normal">
                                        <th class="py-2 px-3 text-center font-bold">ÎÇ†Ïßú</th>
                                        <th class="py-2 px-3 text-center font-bold">ÎØ∏ÏûÖÎ†• Í±¥Ïàò</th>
                                    </tr>
                                </thead>
                                <tbody id="missingBidTableBody" class="text-gray-700 text-sm">
                                    <tr>
                                        <td colspan="2" class="py-4 text-center">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div
                        class="lg:col-span-4 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden min-h-[680px] flex flex-col">
                        <div class="bg-white border-b border-gray-200 px-4 py-3">
                            <div class="flex justify-between items-center mb-1">
                                <h2 class="text-sm font-bold text-gray-800">Î¨ºÍ±¥ ÏÉÅÌÉú Í¥ÄÎ¶¨</h2>
                                <select id="statusFilterMember" onchange="renderStatusManagementDashboard()"
                                    class="text-xs text-gray-800 bg-gray-50 border border-gray-300 rounded px-2 py-1 focus:outline-none cursor-pointer">
                                    <option value="All">Ï†ÑÏ≤¥</option>
                                    <option value="ÎåÄÌëúÎãò" selected>ÎåÄÌëúÎãò</option>
                                </select>
                            </div>
                        </div>
                        <div class="overflow-x-auto flex-1">
                            <table class="w-full text-center border-collapse text-xs">
                                <thead>
                                    <tr
                                        class="bg-gray-50 border-b border-gray-200 text-gray-600 text-xs uppercase leading-normal">
                                        <th class="py-1 px-2 font-bold border-r">ÎÇ†Ïßú</th>
                                        <th class="py-1 px-1 font-bold w-1/6">ÏÉÅÌíà</th>
                                        <th class="py-1 px-1 font-bold w-1/6">ÎØ∏Ï†ï</th>
                                        <th class="py-1 px-1 font-bold w-1/6">Ï∂îÏ≤ú</th>
                                        <th class="py-1 px-1 font-bold w-1/6">ÏûÖÏ∞∞</th>
                                        <th class="py-1 px-1 font-bold w-1/6">Î≥ÄÍ≤Ω</th>
                                    </tr>
                                </thead>
                                <tbody id="statusTableBody" class="text-gray-700 text-xs">
                                    <tr>
                                        <td colspan="6" class="py-4 text-center">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="lg:col-span-5 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex flex-col self-start">
                        <div class="bg-white border-b border-gray-200 px-4 py-3 flex justify-between items-center flex-shrink-0">
                            <h2 class="text-sm font-bold text-gray-800">ÏûêÎèô Î¨ºÍ±¥ Îì±Î°ù/Îß§Ïπ≠ ÌòÑÌô©</h2>
                            <button onclick="loadDashboardImageStats()"
                                class="text-xs bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium px-3 py-1 rounded-lg transition duration-150">ÏÉàÎ°úÍ≥†Ïπ®</button>
                        </div>
                        <div class="overflow-auto" style="max-height:160px;">
                            <table class="w-full text-xs text-center border-collapse table-fixed">
                                <colgroup>
                                    <col style="width:16%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                    <col style="width:12%">
                                </colgroup>
                                <thead class="sticky top-0 z-10">
                                    <tr class="bg-gray-50 border-b border-gray-200 text-gray-600 text-xs uppercase leading-normal">
                                        <th class="py-1 px-1 font-bold">Ïã§ÌñâÏãúÍ∞Ñ</th>
                                        <th class="py-1 px-1 font-bold">Îã¥ÎãπÏûê</th>
                                        <th class="py-1 px-1 font-bold"><span class="cursor-help" onmouseenter="showConflictTooltip(event)" onmouseleave="hideConflictTooltip()">Ï∂©Îèå ‚ìò</span></th>
                                        <th class="py-1 px-1 font-bold">Ï†ÑÏ≤¥</th>
                                        <th class="py-1 px-1 font-bold">Ïã†Í∑úÎì±Î°ù</th>
                                        <th class="py-1 px-1 font-bold">Îß§Ïπ≠<br>(Ïù¥ÎØ∏ÏßÄ)</th>
                                        <th class="py-1 px-1 font-bold">Îß§Ïπ≠<br>(Ïò•ÏÖòID)</th>
                                        <th class="py-1 px-1 font-bold">Îß§Ïπ≠X<br>(Ïò•ÏÖòID)</th>
                                    </tr>
                                </thead>
                                <tbody id="imageSyncStatsBody" class="text-gray-700">
                                    <tr>
                                        <td colspan="8" class="py-4 text-center text-gray-400">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                            </path>
                        </svg>ÌöåÏõêÎ≥Ñ ÏûÖÏ∞∞ Î¨ºÍ±¥ ÌòÑÌô©
                    </h2>
                    <div id="chartSummaryContainer"
                        class="bg-indigo-50 rounded-lg p-3 mb-4 text-indigo-800 text-sm md:text-base">
                        <div id="summaryText" class="font-bold flex flex-wrap gap-2 items-center">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</div>
                    </div>
                    <div class="h-80"><canvas id="memberBidChart"></canvas></div>
                </div>

                <!-- ÌÖîÎ†àÍ∑∏Îû® ÏñëÎ∞©Ìñ• ÏöîÏ≤≠(ÏäπÏù∏ ÌïÑÏöî) -->
                <div id="telegram-requests-panel" class="bg-white rounded-xl shadow-lg border border-gray-200 p-6 mt-6">
                    <div class="flex items-center justify-between gap-3 mb-3">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center">
                            <svg class="w-6 h-6 mr-2 text-blue-600" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 12h8m-8 4h6m-6-8h8M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                                </path>
                            </svg>ÏûÖÏ∞∞ ÏöîÏ≤≠(ÏäπÏù∏ ÎåÄÍ∏∞)
                        </h2>
                        <div class="flex gap-2">
                            <button type="button" onclick="loadTelegramRequests()"
                                class="px-3 py-1.5 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-semibold">ÏÉàÎ°úÍ≥†Ïπ®</button>
                            <button type="button" onclick="approveSelectedTelegramRequests()"
                                class="px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700 text-white text-sm font-semibold">ÏÑ†ÌÉù
                                ÏäπÏù∏</button>
                            <button type="button" onclick="rejectSelectedTelegramRequests()"
                                class="px-3 py-1.5 rounded-md bg-red-600 hover:bg-red-700 text-white text-sm font-semibold">ÏÑ†ÌÉù
                                Í±∞Ï†à</button>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-sm border-collapse">
                            <thead>
                                <tr class="bg-gray-50 border-b border-gray-200 text-gray-600 uppercase">
                                    <th class="py-2 px-2 text-center w-10"><input type="checkbox" id="tg-req-checkall"
                                            onchange="toggleAllTelegramRequestCheckboxes(this)" class="rounded"></th>
                                    <th class="py-2 px-2 text-left">ÏöîÏ≤≠ÏãúÍ∞Å</th>
                                    <th class="py-2 px-2 text-left">ÌöåÏõê</th>
                                    <th class="py-2 px-2 text-left">ÏÇ¨Í±¥Î≤àÌò∏</th>
                                    <th class="py-2 px-2 text-left">Î≤ïÏõê</th>
                                    <th class="py-2 px-2 text-center">ÏûÖÏ∞∞ÏùºÏûê</th>
                                    <th class="py-2 px-2 text-center">ÌòÑÏû¨ÏÉÅÌÉú</th>
                                    <th class="py-2 px-2 text-left">ÏöîÏ≤≠</th>
                                </tr>
                            </thead>
                            <tbody id="tg-req-tbody" class="text-gray-800">
                                <tr>
                                    <td colspan="8" class="py-4 text-center text-gray-500">ÏöîÏ≤≠ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">ÌöåÏõêÏù¥ ÌÖîÎ†àÍ∑∏Îû®ÏóêÏÑú <b>ÏûÖÏ∞∞ ÏöîÏ≤≠</b> Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Ïó¨Í∏∞Ïóê ÏåìÏûÖÎãàÎã§. ÏäπÏù∏ Ïãú Î¨ºÍ±¥ ÏÉÅÌÉúÍ∞Ä
                        <b>ÏûÖÏ∞∞</b>Î°ú Î≥ÄÍ≤ΩÎê©ÎãàÎã§.
                    </p>
                </div>
                <div id="dashboard-loading" class="text-center p-8 content-hidden">
                    <div
                        class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-8 w-8 mx-auto mb-3">
                    </div>Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...
                </div>
            </div>

            <!-- ==================== ÌöåÏõê ÎåÄÏãúÎ≥¥Îìú (Ïò§ÌçºÏä§ v2) ==================== -->
            <div id="MemberDashboard" class="tab-content h-full p-0 overflow-y-auto content-hidden">
                <div class="member-dashboard-v2">
                    <!-- 1. ÏÉÅÎã®Î∞î -->
                    <div class="top-bar">
                        <div class="top-bar-inner">
                            <div class="fg">
                                <button class="rb on" id="tT" onclick="setR('today')">Ïò§ÎäòÎ∂ÄÌÑ∞</button>
                                <button class="rb" id="tA" onclick="setR('all')">Ï†ÑÏ≤¥</button>
                            </div>
                            <div class="fg">
                                <button class="sp bid pointer-events-auto" id="btn-top-bid"
                                    onclick="togF('ÏûÖÏ∞∞')">ÏûÖÏ∞∞</button>
                                <button class="sp rec pointer-events-auto" id="btn-top-rec"
                                    onclick="togF('Ï∂îÏ≤ú')">Ï∂îÏ≤ú</button>
                                <button class="sp chg pointer-events-auto" id="btn-top-chg"
                                    onclick="togF('Î≥ÄÍ≤Ω')">Î≥ÄÍ≤Ω</button>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Ï∫òÎ¶∞Îçî ÎÑ§ÎπÑ (ÌñâÍ≥†Ï†ï) -->
                    <div class="cal-nav-bar" id="calNavBar">
                        <div class="cal-nav-inner">
                            <div class="cal-d l" id="dP"></div>
                            <div class="cal-c">
                                <button class="cnb" onclick="chMo(-1)"><svg width="16" height="16" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 19l-7-7 7-7" />
                                    </svg></button>
                                <div class="cal-cv">
                                    <div class="cal-t" id="cT"></div>
                                    <div class="cal-ms" id="cMS"></div>
                                </div>
                                <button class="cnb" onclick="chMo(1)"><svg width="16" height="16" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7" />
                                    </svg></button>
                            </div>
                            <div class="cal-d r" id="dN"></div>
                        </div>
                    </div>
                    <!-- Ï∫òÎ¶∞Îçî Î∞îÎîî -->
                    <div class="cal-body">
                        <div class="cal-wk">
                            <div>Ïõî</div>
                            <div>Ìôî</div>
                            <div>Ïàò</div>
                            <div>Î™©</div>
                            <div>Í∏à</div>
                        </div>
                        <div class="cal-g" id="cG"></div>
                    </div>

                    <!-- 3. Î¶¨Ïä§Ìä∏ Ïπ¥Îìú -->
                    <div class="lc">
                        <div class="lb-body" id="iL"></div>
                    </div>
                </div>
            </div>

            <!-- ==================== ÏûÖÏ∞∞Î¶¨Ïä§Ìä∏ (ÌöåÏõê Ï†ÑÏö©) ==================== -->
            <div id="MemberItemList" class="tab-content h-full p-0 overflow-y-auto content-hidden">
                <div class="member-dashboard-v2">
                    <!-- ÏÉÅÎã® ÌïÑÌÑ∞ Î≤ÑÌäº (Ïò§ÎäòÎ∂ÄÌÑ∞/Ï†ÑÏ≤¥ ÏóÜÏù¥, Ïπ¥Ïö¥Ìä∏ ÌëúÏãú) -->
                    <div class="top-bar">
                        <div class="top-bar-inner">
                            <div class="fg">
                                <button class="sp bid pointer-events-auto" id="il-btn-bid"
                                    onclick="ilTogF('ÏûÖÏ∞∞')">ÏûÖÏ∞∞</button>
                                <button class="sp rec pointer-events-auto" id="il-btn-rec"
                                    onclick="ilTogF('Ï∂îÏ≤ú')">Ï∂îÏ≤ú</button>
                                <button class="sp chg pointer-events-auto" id="il-btn-chg"
                                    onclick="ilTogF('Î≥ÄÍ≤Ω')">Î≥ÄÍ≤Ω</button>
                            </div>
                        </div>
                    </div>
                    <!-- Ïπ¥Îìú Î¶¨Ïä§Ìä∏ -->
                    <div class="lc">
                        <div class="lb-body" id="iL2"></div>
                    </div>
                </div>
            </div>

            <!-- bs-nav-v2: ÏûÖÏ∞∞ÏùºÏ†ï ÏÉÅÎã® ÌÉ≠ Ïà®ÍπÄ/Î≤ÑÌäºÌòï ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò (ÏõêÎ≥µ: classÏóêÏÑú bs-nav-v2 Ï†úÍ±∞) -->
            <div id="BiddingSchedule"
                class="tab-content h-full p-0 overflow-y-auto content-hidden flex flex-col bs-nav-v2">
                <div class="h-full flex flex-col">
                    <!-- Ï£ºÎ≥Ñ/ÏõîÎ≥Ñ ÌÉ≠ (ÏµúÏÉÅÎã®) -->
                    <div class="detail-tab-strip flex flex-shrink-0 items-end flex-wrap" id="calendarTabs">
                        <div class="flex">
                            <button type="button" id="calendar-tab-week" onclick="switchCalendarTab('week')"
                                class="detail-tab-btn active" data-tab="week">Ï£ºÎ≥Ñ</button>
                            <button type="button" id="calendar-tab-month" onclick="switchCalendarTab('month')"
                                class="detail-tab-btn" data-tab="month">ÏõîÎ≥Ñ</button>
                            <button type="button" id="calendar-tab-month-summary"
                                onclick="switchCalendarTab('month-summary')" class="detail-tab-btn"
                                data-tab="month-summary">ÏõîÎ≥Ñ(Î≤ïÏõê)</button>
                        </div>
                        <!-- ÎÖÑÏõî ÌëúÏãúÎäî v2 ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏòÅÏó≠ÏúºÎ°ú Ïù¥Îèô -->
                    </div>

                    <!-- ÏïÑÎûòÎ∂ÄÌÑ∞ Ïπ¥Îìú ÏòÅÏó≠ -->
                    <div class="bidding-schedule-card-body flex-1 flex flex-col overflow-hidden">
                        <div id="calendarFilterBanner"
                            class="bg-green-100 text-green-800 px-4 py-2 text-sm font-semibold flex justify-between items-center content-hidden flex-shrink-0">
                            <span id="calendarFilterText">ÌïÑÌÑ∞ Ï†ÅÏö© Ï§ë</span>
                            <button onclick="clearCalendarFilter()"
                                class="text-green-600 hover:text-green-900 focus:outline-none"><svg class="w-4 h-4"
                                    fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12"></path>
                                </svg></button>
                        </div>
                        <!-- Ï†úÎ™©Í≥º Ï°∞Ìöå Ìï≠Î™©ÏùÑ Í∞ôÏùÄ Ï§ÑÏóê Î∞∞Ïπò -->
                        <div
                            class="list-title-strip flex flex-col md:flex-row justify-between items-start md:items-center bg-white border-b gap-2 md:gap-4 flex-shrink-0">
                            <div class="flex items-center gap-2 md:gap-4 w-full md:w-auto">
                                <!-- Î∑∞ Ï†ÑÌôò Î≤ÑÌäº(Ï£ºÎ≥Ñ/ÏõîÎ≥Ñ/ÏõîÎ≥Ñ(Î≤ïÏõê)) -->
                                <div class="calendar-view-btn-group flex items-center flex-shrink-0">
                                    <button type="button" id="calendar-btn-week" onclick="switchCalendarTab('week')"
                                        class="calendar-view-btn active" data-tab="week">Ï£ºÎ≥Ñ</button>
                                    <button type="button" id="calendar-btn-month" onclick="switchCalendarTab('month')"
                                        class="calendar-view-btn" data-tab="month">ÏõîÎ≥Ñ</button>
                                    <button type="button" id="calendar-btn-month-summary"
                                        onclick="switchCalendarTab('month-summary')" class="calendar-view-btn"
                                        data-tab="month-summary">ÏõîÎ≥Ñ(Î≤ïÏõê)</button>
                                </div>
                                <!-- Ï°∞Ìöå Ìï≠Î™©ÏùÑ Î≤ÑÌäº ÏòÜÏúºÎ°ú ÎÇòÏó¥ -->
                                <div class="list-search-strip bg-transparent border-0 p-0 h-auto min-h-0 flex-1">
                                    <div class="flex flex-wrap gap-2 items-center">
                                        <div class="flex-1 min-w-[7rem] md:min-w-[10rem]"><input type="text"
                                                id="cal-search-sakunno" oninput="renderCalendar()"
                                                onfocus="this.select()" placeholder="ÏÇ¨Í±¥Î≤àÌò∏" title="ÏÇ¨Í±¥Î≤àÌò∏"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                                        </div>
                                        <div class="flex-shrink-0 w-[2.8rem] md:w-[4.6rem]"><input type="text"
                                                id="cal-search-court" list="cal-court-datalist"
                                                oninput="renderCalendar()" onfocus="this.select()" placeholder="Î≤ïÏõê"
                                                title="Î≤ïÏõê" autocomplete="off"
                                                class="w-full px-1.5 md:px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                                        </div><datalist id="cal-court-datalist"></datalist>
                                        <div class="relative flex-1 md:flex-[1.25] min-w-[96px]"
                                            id="cal-search-status-wrap">
                                            <button type="button" onclick="toggleCalendarStatusDropdown(event)"
                                                aria-haspopup="listbox" aria-expanded="false" id="cal-search-status-btn"
                                                class="w-full min-w-[64px] px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm flex items-center focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                                                title="ÏÉÅÌÉú">
                                                <span id="cal-search-status-label"
                                                    class="flex-1 text-center text-gray-500">ÏÉÅÌÉú</span>
                                                <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none"
                                                    stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                                </svg>
                                            </button>
                                            <div id="cal-search-status-dropdown" onclick="event.stopPropagation()"
                                                class="content-hidden absolute top-full left-0 z-20 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-2 min-w-[140px]"
                                                role="listbox">
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" id="cal-search-status-all" value="All" checked
                                                        onchange="handleCalendarStatusAll(this); renderCalendar()"
                                                        class="rounded"> Ï†ÑÏ≤¥</label>
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" name="cal-search-status-cb" value="ÏÉÅÌíà"
                                                        onchange="handleCalendarStatusOther(this); renderCalendar()"
                                                        class="rounded"> ÏÉÅÌíà</label>
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" name="cal-search-status-cb" value="ÎØ∏Ï†ï"
                                                        onchange="handleCalendarStatusOther(this); renderCalendar()"
                                                        class="rounded"> ÎØ∏Ï†ï</label>
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" name="cal-search-status-cb" value="Ï∂îÏ≤ú"
                                                        onchange="handleCalendarStatusOther(this); renderCalendar()"
                                                        class="rounded"> Ï∂îÏ≤ú</label>
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" name="cal-search-status-cb" value="ÏûÖÏ∞∞"
                                                        onchange="handleCalendarStatusOther(this); renderCalendar()"
                                                        class="rounded"> ÏûÖÏ∞∞</label>
                                                <label
                                                    class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                                        type="checkbox" name="cal-search-status-cb" value="Î≥ÄÍ≤Ω"
                                                        onchange="handleCalendarStatusOther(this); renderCalendar()"
                                                        class="rounded"> Î≥ÄÍ≤Ω</label>
                                            </div>
                                        </div>
                                        <div class="flex-1 md:flex-[0.75] min-w-[6rem] md:min-w-[8rem]"><input
                                                type="text" id="cal-search-member" oninput="renderCalendar()"
                                                onfocus="this.select()" placeholder="ÌöåÏõê" title="ÌöåÏõê"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                                        </div>
                                        <div class="min-w-[80px] flex-shrink-0"><select id="cal-search-manager"
                                                onchange="renderCalendar()"
                                                class="w-full min-w-[80px] px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                                title="ÏûÖÏ∞∞Îã¥ÎãπÏûê">
                                                <option value="">Ï†ÑÏ≤¥</option>
                                            </select></div>
                                        <!-- ÏàòÏóÖ Ï°∞Ìöå ÌïÑÌÑ∞ (Ï∫êÏä§ÏºÄÏù¥Îî©) -->
                                        <div class="flex-shrink-0">
                                            <select id="cal-class-type"
                                                onchange="onCalClassTypeChange(); renderCalendar()"
                                                class="min-w-[90px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                                title="ÏàòÏóÖÍµ¨Î∂Ñ">
                                                <option value="">ÏàòÏóÖÍµ¨Î∂Ñ Ï†ÑÏ≤¥</option>
                                            </select>
                                        </div>
                                        <div id="cal-class-name-wrap" class="flex-shrink-0" style="display:none">
                                            <select id="cal-class-name"
                                                onchange="onCalClassNameChange(); renderCalendar()"
                                                class="min-w-[90px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                                title="ÏàòÏóÖÏù¥Î¶Ñ">
                                                <option value="">ÏàòÏóÖÏù¥Î¶Ñ Ï†ÑÏ≤¥</option>
                                            </select>
                                        </div>
                                        <div id="cal-class-grade-wrap" class="flex-shrink-0" style="display:none">
                                            <select id="cal-class-grade" onchange="renderCalendar()"
                                                class="min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                                title="ÏàòÏóÖÎì±Í∏â">
                                                <option value="">ÏàòÏóÖÎì±Í∏â Ï†ÑÏ≤¥</option>
                                            </select>
                                        </div>
                                        <!-- ÏõîÎ≥Ñ/ÏõîÎ≥Ñ(Î≤ïÏõê)ÏóêÏÑúÎßå ÌïÑÏöîÌïú ÎÖÑÏõî ÌëúÏãú -->
                                        <div id="calendar-title-container"
                                            class="content-hidden calendar-month-nav flex items-center justify-center gap-2 flex-shrink-0">
                                            <button onclick="changeCalendarMonth(-1)"
                                                class="p-1.5 rounded-full bg-white shadow-sm border border-gray-200 hover:bg-indigo-50 hover:text-indigo-600 transition duration-200"><svg
                                                    class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                                </svg></button>
                                            <h2 id="calendar-title"
                                                class="text-lg font-bold text-gray-800 min-w-[100px] text-center"></h2>
                                            <button onclick="changeCalendarMonth(1)"
                                                class="p-1.5 rounded-full bg-white shadow-sm border border-gray-200 hover:bg-indigo-50 hover:text-indigo-600 transition duration-200"><svg
                                                    class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2" d="M9 5l7 7-7 7"></path>
                                                </svg></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex space-x-2 w-full md:w-auto justify-end flex-shrink-0">
                                <button id="btnFetchResetCalendar" onclick="resetCalendarSearch()"
                                    class="list-title-strip-btn flex items-center text-red-500 hover:text-red-700 transition duration-200 border border-red-200 rounded-md hover:bg-red-50">Í≤ÄÏÉâÏ¥àÍ∏∞Ìôî(ÌïÑÌÑ∞Ï†úÍ±∞)</button>
                                <button id="btnFetchRefreshCalendar" onclick="loadDataAndRenderCalendar()"
                                    class="list-title-strip-btn flex items-center text-gray-600 hover:text-gray-800 transition duration-200 border border-gray-200 rounded-md hover:bg-gray-50"><svg
                                        class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                                        </path>
                                    </svg>ÏÉàÎ°úÍ≥†Ïπ®</button>
                            </div>
                        </div>
                        <!-- Ï£ºÎ≥Ñ Î∑∞ -->
                        <div id="calendar-week-view" class="calendar-view">
                            <div id="calendar-grid-week" class="calendar-grid-week">
                                <div id="calendar-days-container-week" style="display: contents;"></div>
                            </div>
                        </div>
                        <!-- ÏõîÎ≥Ñ Î∑∞ -->
                        <div id="calendar-month-view" class="calendar-view content-hidden">
                            <div id="calendar-grid-month" class="calendar-grid">
                                <div id="calendar-days-container-month" style="display: contents;"></div>
                            </div>
                        </div>
                        <!-- ÏõîÎ≥Ñ(ÏöîÏïΩ) Î∑∞ -->
                        <div id="calendar-month-summary-view" class="calendar-view content-hidden">
                            <div id="calendar-grid-month-summary" class="calendar-grid">
                                <div id="calendar-days-container-month-summary" style="display: contents;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="ItemManagement" class="tab-content h-full flex content-hidden item-management-layout">
                <div id="listPane" class="flex-1 flex flex-col bg-white overflow-y-auto item-list-pane">
                    <div id="activeFilterBanner"
                        class="bg-indigo-100 text-indigo-800 px-4 py-2 text-sm font-semibold flex justify-between items-center content-hidden">
                        <span id="activeFilterText">ÌïÑÌÑ∞ Ï†ÅÏö© Ï§ë</span>
                        <button onclick="clearDashboardFilter()"
                            class="text-indigo-600 hover:text-indigo-900 focus:outline-none"><svg class="w-4 h-4"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg></button>
                    </div>
                    <div id="syncFilterBanner"
                        class="bg-violet-100 text-violet-800 px-4 py-2 text-sm font-semibold flex justify-between items-center content-hidden">
                        <span id="syncFilterText">Ïù¥ÎØ∏ÏßÄÎèôÍ∏∞Ìôî ÌïÑÌÑ∞ Ï†ÅÏö© Ï§ë</span>
                        <button onclick="clearDashboardFilter()"
                            class="text-violet-600 hover:text-violet-900 focus:outline-none"><svg class="w-4 h-4"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg></button>
                    </div>
                    <div
                        class="list-title-strip flex flex-col md:flex-row items-start md:items-center bg-gray-50 border-b shadow-sm gap-4">
                        <h2 class="list-title-strip-heading text-xl font-semibold text-gray-800 flex-shrink-0">ÏûÖÏ∞∞ Î™©Î°ù
                        </h2>
                        <div class="flex-1 flex flex-wrap items-center gap-x-4 gap-y-2 py-1">
                            <!-- Group 1: ÏöîÏ≤≠ Í¥ÄÎ†® -->
                            <button type="button" onclick="handleItemCaptureListDownload()"
                                class="list-title-strip-btn flex items-center justify-center text-blue-600 hover:text-blue-800 transition duration-200 border border-blue-200 rounded-md hover:bg-blue-50"
                                title="Î¨ºÍ±¥ÏÑ†ÌÉùÌõÑ Î≤ÑÌäºÏùÑ ÎàÑÎ•¥ÏãúÎ©¥ ÌÖçÏä§Ìä∏ ÌååÏùºÏù¥ Ï†ÄÏû• Îê©ÎãàÎã§. Í∑∏ ÌååÏùºÏùÑ Ïù¥Ï†ïÏö∞ ÌåÄÏû•ÏóêÍ≤å Ïπ¥ÌÜ°ÏúºÎ°ú Ï†ÑÎã¨Ìï¥ Ï£ºÏÑ∏Ïöî">Ïù¥ÎØ∏ÏßÄ Îì±Î°ù ÏöîÏ≤≠</button>

                            <!-- Group 2: ÌÖîÎ†àÍ∑∏Îû® Ï†ÑÏÜ° ÏÑ∏Ìä∏ -->
                            <div class="flex items-center gap-1 flex-shrink-0">
                                <select id="telegram-style-select-bulk" class="bulk-action-select">
                                    <option value="card" selected>Ï∂îÏ≤úÎ¨ºÍ±¥ ÏïàÎÇ¥</option>
                                    <option value="bid_price">ÏûÖÏ∞∞Í∞Ä ÏïàÎÇ¥</option>
                                    <option value="status">ÏûÖÏ∞∞Î∂àÍ∞Ä ÏïàÎÇ¥</option>
                                </select>
                                <button type="button" onclick="handleBulkTelegramSendFromItemList()"
                                    class="bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded transition font-bold flex items-center whitespace-nowrap"
                                    title="Ï≤¥ÌÅ¨Ìïú Î¨ºÍ±¥Îì§ÏùÑ ÌöåÏõê ÌÖîÎ†àÍ∑∏Îû®ÏúºÎ°ú Ï†ÑÏÜ°Ìï©ÎãàÎã§. (ÌöåÏõê telegram_chat_idÍ∞Ä ÏûàÏñ¥Ïïº Ìï®)">
                                    <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 11l18-8-8 18-2-7-8-3z"></path>
                                    </svg>ÏÑ†ÌÉù Ï†ÑÏÜ°</button>
                            </div>

                            <!-- Group 3: ÏùºÍ¥ÑÏûëÏóÖ ÏÑ∏Ìä∏ -->
                            <div class="flex items-center gap-1 flex-shrink-0">
                                <select id="bulk-action-type" class="bulk-action-select">
                                    <option value="">ÏùºÍ¥ÑÏûëÏóÖ ÏÑ†ÌÉù</option>
                                    <option value="status">Î¨ºÍ±¥ÏÉÅÌÉú Î≥ÄÍ≤Ω</option>
                                    <option value="delete">ÏùºÍ¥Ñ ÏÇ≠Ï†ú</option>
                                </select>
                                <button type="button" onclick="handleBulkAction()"
                                    class="list-title-strip-btn flex items-center justify-center text-indigo-700 bg-indigo-50 hover:bg-indigo-100 transition duration-200 border border-indigo-200 rounded-md font-bold">ÏùºÍ¥ÑÏ†ÅÏö©</button>
                            </div>

                            <!-- Group 4: Ïú†Ìã∏Î¶¨Ìã∞ ÏÑ∏Ìä∏ (Í≤ÄÏÉâÏ¥àÍ∏∞Ìôî, ÏÉàÎ°úÍ≥†Ïπ®) -->
                            <div class="flex items-center gap-2 ml-auto flex-shrink-0">
                                <button id="btnFetchResetItems" onclick="resetItemManagementSearch()"
                                    class="list-title-strip-btn flex items-center text-red-500 hover:text-red-700 transition duration-200 border border-red-200 rounded-md hover:bg-red-50">Í≤ÄÏÉâÏ¥àÍ∏∞Ìôî</button>

                                <button id="btnFetchRefreshItems" onclick="loadData()"
                                    class="list-title-strip-btn flex items-center text-gray-600 hover:text-gray-800 transition duration-200 border border-gray-200 rounded-md hover:bg-gray-50">
                                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                                        </path>
                                    </svg>ÏÉàÎ°úÍ≥†Ïπ®</button>
                            </div>
                        </div>
                    </div>
                    <!-- ÏûÖÏ∞∞Î¨ºÍ±¥Í¥ÄÎ¶¨ Ï°∞Ìöå Ìï≠Î™©: ÏûÖÏ∞∞ÏùºÏûê(Ïò§Î•∏Ï™Ω 1cm Ï∂ïÏÜå) ¬∑ ÏÇ¨Í±¥Î≤àÌò∏(ÏµúÎåÄ ÌôïÎåÄ) ¬∑ Î≤ïÏõê(ÏôºÏ™Ω 1cm Ï∂ïÏÜå) ¬∑ ÏÉÅÌÉú ¬∑ ÌöåÏõê ¬∑ Îì±Î°ùÏùºÏûê ¬∑ ÏûÖÏ∞∞Îã¥ÎãπÏûê (ÏÑ∏Î°ú 44px ‚Äî Ïö∞Ï∏° Ï†úÎ™© Î∞ïÏä§ ÌïòÎã®Í≥º ÎßûÏ∂§) -->
                    <div class="list-search-strip bg-gray-50 border-b"
                        style="flex-direction:column;align-items:stretch;">
                        <div class="flex flex-wrap gap-2 items-center">
                            <div class="flex-shrink-0 w-[2.8rem] md:w-[4.6rem]"><input type="text" id="search-indate"
                                    oninput="applyFilters()" onfocus="this.select()" placeholder="ÏûÖÏ∞∞ÏùºÏûê" title="ÏûÖÏ∞∞ÏùºÏûê"
                                    class="w-full px-1.5 md:px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                            </div>
                            <div class="flex-1 min-w-[7rem] md:min-w-[10rem]"><input type="text" id="search-sakunno"
                                    oninput="applyFilters()" onfocus="this.select()" placeholder="ÏÇ¨Í±¥Î≤àÌò∏" title="ÏÇ¨Í±¥Î≤àÌò∏"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                            </div>
                            <div class="flex-shrink-0 w-[2.8rem] md:w-[4.6rem]"><input type="text" id="search-court"
                                    list="search-court-datalist" oninput="applyFilters()" onfocus="this.select()"
                                    placeholder="Î≤ïÏõê" title="Î≤ïÏõê" autocomplete="off"
                                    class="w-full px-1.5 md:px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                            </div><datalist id="search-court-datalist"></datalist>
                            <div class="relative flex-1 md:flex-[1.25] min-w-[96px]" id="search-status-wrap">
                                <button type="button" onclick="toggleStatusDropdown(event)" aria-haspopup="listbox"
                                    aria-expanded="false" id="search-status-btn"
                                    class="w-full min-w-[64px] px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm flex items-center focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                                    title="ÏÉÅÌÉú">
                                    <span id="search-status-label" class="flex-1 text-center text-gray-500">ÏÉÅÌÉú</span>
                                    <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                                <div id="search-status-dropdown" onclick="event.stopPropagation()"
                                    class="content-hidden absolute top-full left-0 z-20 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-2 min-w-[140px]"
                                    role="listbox">
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" id="search-status-all" value="All" checked
                                            onchange="handleStatusAll(this); applyFilters()" class="rounded"> Ï†ÑÏ≤¥</label>
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" name="search-status-cb" value="ÏÉÅÌíà"
                                            onchange="handleStatusOther(this); applyFilters()" class="rounded">
                                        ÏÉÅÌíà</label>
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" name="search-status-cb" value="ÎØ∏Ï†ï"
                                            onchange="handleStatusOther(this); applyFilters()" class="rounded">
                                        ÎØ∏Ï†ï</label>
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" name="search-status-cb" value="Ï∂îÏ≤ú"
                                            onchange="handleStatusOther(this); applyFilters()" class="rounded">
                                        Ï∂îÏ≤ú</label>
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" name="search-status-cb" value="ÏûÖÏ∞∞"
                                            onchange="handleStatusOther(this); applyFilters()" class="rounded">
                                        ÏûÖÏ∞∞</label>
                                    <label
                                        class="flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-1"><input
                                            type="checkbox" name="search-status-cb" value="Î≥ÄÍ≤Ω"
                                            onchange="handleStatusOther(this); applyFilters()" class="rounded">
                                        Î≥ÄÍ≤Ω</label>
                                </div>
                            </div>
                            <div class="flex-1 md:flex-[0.75] min-w-[6rem] md:min-w-[8rem]"><input type="text"
                                    id="search-mname" oninput="applyFilters()" onfocus="this.select()" placeholder="ÌöåÏõê"
                                    title="ÌöåÏõê"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                            </div>
                            <div class="flex-shrink-0 w-[2.8rem] md:w-[4.6rem]"><input type="text" id="search-regdate"
                                    oninput="applyFilters()" onfocus="this.select()" placeholder="Îì±Î°ùÏùºÏûê" title="Îì±Î°ùÏùºÏûê"
                                    class="w-full px-1.5 md:px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm text-center placeholder-gray-400">
                            </div>
                            <div class="min-w-[80px] flex-shrink-0"><select id="search-manager"
                                    onchange="applyFilters()"
                                    class="w-full min-w-[80px] px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                    title="ÏûÖÏ∞∞Îã¥ÎãπÏûê">
                                    <option value="">Ï†ÑÏ≤¥</option>
                                </select></div>
                        </div>
                        <!-- ÏàòÏóÖ Ï°∞Ìöå ÌïÑÌÑ∞ (2Î≤àÏß∏ Ï§Ñ) -->
                        <div class="flex flex-wrap gap-2 items-center mt-1.5">
                            <select id="bid-class-type" onchange="onBidClassTypeChange(); applyFilters()"
                                class="min-w-[90px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                title="ÏàòÏóÖÍµ¨Î∂Ñ">
                                <option value="">ÏàòÏóÖÍµ¨Î∂Ñ Ï†ÑÏ≤¥</option>
                            </select>
                            <div id="bid-class-name-wrap" class="flex-shrink-0" style="display:none">
                                <select id="bid-class-name" onchange="onBidClassNameChange(); applyFilters()"
                                    class="min-w-[90px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                    title="ÏàòÏóÖÏù¥Î¶Ñ">
                                    <option value="">ÏàòÏóÖÏù¥Î¶Ñ Ï†ÑÏ≤¥</option>
                                </select>
                            </div>
                            <div id="bid-class-grade-wrap" class="flex-shrink-0" style="display:none">
                                <select id="bid-class-grade" onchange="applyFilters()"
                                    class="min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white text-center"
                                    title="ÏàòÏóÖÎì±Í∏â">
                                    <option value="">ÏàòÏóÖÎì±Í∏â Ï†ÑÏ≤¥</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="flex-1 overflow-y-auto">
                        <table class="item-list-table min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0 z-10">
                                <tr>
                                    <th class="item-col-check px-1 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-default flex-shrink-0"
                                        title="Ï†ÑÏ≤¥ ÏÑ†ÌÉù">
                                        <label class="flex items-center justify-center cursor-pointer"><input
                                                type="checkbox" id="itemListCheckAll"
                                                onchange="toggleAllItemCheckboxes(this)" class="rounded"
                                                title="Ï†ÑÏ≤¥ ÏÑ†ÌÉù"></label>
                                    </th>
                                    <th data-sort="in-date" onclick="sortItemList('in-date')"
                                        class="item-col-date px-2 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        ÏùºÏûê</th>
                                    <th
                                        class="item-col-img list-th-img px-1 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-default">
                                        IMG</th>
                                    <th data-sort="sakun_no" onclick="sortItemList('sakun_no')"
                                        class="item-col-sakun px-2 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        ÏÇ¨Í±¥Î≤àÌò∏</th>
                                    <th data-sort="court" onclick="sortItemList('court')"
                                        class="item-col-court px-2 py-3 text-left text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        Î≤ïÏõê</th>
                                    <th data-sort="stu_member" onclick="sortItemList('stu_member')"
                                        class="item-col-status px-1 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        ÏÉÅÌÉú</th>
                                    <th data-sort="m_name" onclick="sortItemList('m_name')"
                                        class="item-col-member px-1 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        ÌöåÏõê</th>
                                    <th data-sort="m_name_id" onclick="sortItemList('m_name_id')"
                                        class="item-col-manager px-2 py-3 text-center text-xs md:text-base font-bold text-gray-800 cursor-pointer hover:bg-gray-100 select-none">
                                        Îã¥Îãπ</th>
                                </tr>
                            </thead>
                            <tbody id="dataTableBody" class="bg-white divide-y divide-gray-100">
                                <tr>
                                    <td colspan="8" class="p-4 text-center text-gray-500">
                                        <div id="loadingIndicator" class="flex justify-center items-center p-4">
                                            <div
                                                class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-8 w-8 mr-3">
                                            </div>Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...
                                        </div>
                                        <div id="noDataMessage" class="content-hidden">Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.<br>ÏÉà ÏûÖÏ∞∞ Ï†ïÎ≥¥Î•º Îì±Î°ùÌïòÏÑ∏Ïöî.
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <button onclick="showForm('create')"
                        class="md:hidden fixed bottom-20 right-4 bg-indigo-600 text-white rounded-full p-4 shadow-lg z-40 hover:bg-indigo-700"><svg
                            class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg></button>
                </div>
                <div id="detailPane"
                    class="flex-1 p-0 md:p-0 overflow-y-auto mobile-hidden flex flex-col item-detail-pane detail-pane-card">
                    <div class="detail-tab-strip flex flex-shrink-0 items-end flex-wrap gap-2" id="itemDetailTabs">
                        <div class="flex">
                            <button type="button" id="btnTabDetail" onclick="switchItemDetailTab('detail')"
                                class="detail-tab-btn active" data-tab="detail">ÏÉÅÏÑ∏</button>
                            <button type="button" id="btnTabInvestigation"
                                onclick="switchItemDetailTab('investigation')" class="detail-tab-btn"
                                data-tab="investigation">Ï°∞ÏÇ¨</button>
                        </div>
                        <div id="investigationToolbar"
                            class="flex gap-2 ml-auto pb-1 items-center detail-form-actions-align content-hidden">
                            <!-- [NEW] Ïò•ÏÖòÏõê Ïù¥Îèô Î≤ÑÌäº -->
                            <button type="button" id="btnAuctionGo" onclick="openAuctionUrl()"
                                class="investigation-toolbar-btn bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded transition px-4 ml-2 content-hidden">Ïò•ÏÖòÏõê
                                Í∞ÄÍ∏∞</button>
                            <!-- Ïù¥ÎØ∏ÏßÄÎì±Î°ù Î≤ÑÌäº: Î∂ôÏó¨ÎÑ£Í∏∞ ÎØ∏ÎèôÏûëÏúºÎ°ú ÏùºÎã® Ïà®ÍπÄ(ÎÇòÏ§ëÏóê Ïû¨Íµ¨ÌòÑ) -->
                            <button type="button" id="btnInvestigationImageReg" onclick="handleInvestigationImageReg()"
                                class="content-hidden bg-blue-600 hover:bg-blue-700 text-white investigation-toolbar-btn rounded transition">Ïù¥ÎØ∏ÏßÄÎì±Î°ù</button>
                            <button type="button" id="btnInvestigationDelete" onclick="handleInvestigationDelete()"
                                class="investigation-toolbar-btn bg-red-500 hover:bg-red-600 text-white font-medium rounded transition ml-2">ÏÇ≠Ï†ú</button>
                            <button type="button" id="btnInvestigationPrint" onclick="handleInvestigationPrint()"
                                class="investigation-toolbar-btn bg-blue-600 hover:bg-blue-700 text-white font-medium rounded transition">Ïù∏ÏáÑ</button>
                            <button type="button" id="btnInvestigationCopy" onclick="handleInvestigationCopy()"
                                class="investigation-toolbar-btn bg-blue-600 hover:bg-blue-700 text-white font-medium rounded transition">Î≥µÏÇ¨</button>
                        </div>
                    </div>
                    <div class="detail-tab-panel flex-1 min-h-0 flex flex-col">
                        <div id="itemDetailTabContent" class="flex-1 min-h-0 overflow-auto">
                            <div id="formContainer" class="p-3 md:p-4">
                                <div class="flex justify-between items-center mb-6 border-b pb-4">
                                    <h3 id="formTitle"
                                        class="detail-form-title font-semibold text-gray-800 flex-shrink-0">ÏûÖÏ∞∞Ï†ïÎ≥¥ÏÉÅÏÑ∏ Î∞è ÏàòÏ†ï
                                    </h3>
                                    <div class="flex space-x-2 flex-shrink-0 items-center detail-form-actions">
                                        <!-- [Ï∂îÍ∞Ä] ÏÉÅÏÑ∏ÌÉ≠ÏóêÏÑúÎèÑ ÌÖîÎ†àÍ∑∏Îû® Ï†ÑÏÜ° Î∞è Ïò•ÏÖòÏõê Í∞ÄÍ∏∞ Ï†úÍ≥µ -->
                                        <button type="button" id="telegramTopButton"
                                            onclick="handleDetailTelegramSend()"
                                            class="detail-form-btn bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition duration-150 content-hidden flex items-center justify-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M3 11l18-8-8 18-2-7-8-3z"></path>
                                            </svg> ÌÖîÎ†àÍ∑∏Îû® Ï†ÑÏÜ°
                                        </button>
                                        <button type="button" id="btnDetailAuctionGo" onclick="openAuctionUrl()"
                                            class="detail-form-btn bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition content-hidden">Ïò•ÏÖòÏõê
                                            Í∞ÄÍ∏∞</button>
                                        <button type="button" id="goBackToCreateButton" onclick="goToCreateMode()"
                                            class="detail-form-btn bg-gray-400 hover:bg-gray-500 text-white font-semibold rounded-lg transition duration-150 content-hidden">Îì±Î°ùÌôîÎ©¥</button>
                                        <button type="button" id="createTopButton" onclick="handleFormSubmit()"
                                            class="detail-form-btn bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-sm transition duration-150">Îì±Î°ù</button>
                                        <button type="button" id="editTopButton" onclick="handleFormSubmit()"
                                            class="detail-form-btn bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg transition duration-150 content-hidden">ÏàòÏ†ï</button>
                                        <button type="button" id="deleteTopButton" onclick="handleDelete(formId.value)"
                                            class="detail-form-btn bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition duration-150 content-hidden">ÏÇ≠Ï†ú</button>
                                    </div>
                                </div>
                                <form id="dataForm">
                                    <input type="hidden" id="formId" name="id">
                                    <input type="hidden" id="form-member-id" name="member_id">

                                    <input type="hidden" id="form-bid-state" name="bid_state">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="mb-4"><label for="form-in-date"
                                                class="block text-sm font-medium text-gray-700 mb-1">ÏûÖÏ∞∞ÏùºÏûê
                                                (YYMMDD)</label><input type="text" id="form-in-date" name="in-date"
                                                required pattern="\d{4}|\d{6}" placeholder="Ïòà: 1102 ÎòêÎäî 251102"
                                                onfocus="this.select()"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div class="mb-4"><label for="form-sakun-no"
                                                class="block text-sm font-medium text-gray-700 mb-1">ÏÇ¨Í±¥Î≤àÌò∏</label><input
                                                type="text" id="form-sakun-no" name="sakun_no" required
                                                placeholder="Ïòà: 2024ÌÉÄÍ≤Ω1234" onfocus="this.select()"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div class="mb-4"><label for="form-court"
                                                class="block text-sm font-medium text-gray-700 mb-1">Î≤ïÏõêÎ™Ö</label><input
                                                type="text" id="form-court" name="court" required placeholder="Ïòà: ÏÑúÏö∏Ï§ëÏïô"
                                                onfocus="this.select()" autocomplete="off" spellcheck="false"
                                                onchange="validateCourt(this)"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div class="mb-4"><label for="form-stu-member"
                                                class="block text-sm font-medium text-gray-700 mb-1">Î¨ºÍ±¥ÏÉÅÌÉú</label><select
                                                id="form-stu-member" name="stu_member" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                                <option value="ÏÉÅÌíà">ÏÉÅÌíà</option>
                                                <option value="ÎØ∏Ï†ï">ÎØ∏Ï†ï</option>
                                                <option value="Ï∂îÏ≤ú">Ï∂îÏ≤ú</option>
                                                <option value="ÏûÖÏ∞∞">ÏûÖÏ∞∞</option>
                                                <option value="Î≥ÄÍ≤Ω">Î≥ÄÍ≤Ω</option>
                                            </select></div>
                                        <div class="col-span-1 md:col-span-2">
                                            <div class="mb-4">
                                                <label for="form-m-name"
                                                    class="block text-sm font-medium text-gray-700 mb-1">
                                                    ÌöåÏõêÎ™Ö
                                                    <span id="display-member-id"
                                                        class="ml-1 text-xs text-blue-600 font-normal leading-snug break-words"></span>
                                                </label>
                                                <div class="flex items-center">
                                                    <input type="text" id="form-m-name" name="m_name"
                                                        placeholder="Ïòà: ÌôçÍ∏∏Îèô" onfocus="this.select()" autocomplete="off"
                                                        spellcheck="false" onchange="validateMember(this)"
                                                        class="w-1/2 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                                    <span id="display-member-myungui"
                                                        class="ml-2 text-xs text-gray-500"></span>
                                                </div>
                                                <datalist id="member-name-with-myungui-datalist"></datalist>
                                                <!-- Î™ÖÏùò ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ ÏòÅÏó≠ ÏÇ≠Ï†úÎê® -->
                                            </div>
                                        </div>
                                        <div class="mb-4">
                                            <label for="form-bidprice"
                                                class="block text-sm font-medium text-gray-700 mb-1">ÏûÖÏ∞∞Í∞Ä (Ïõê)</label>
                                            <input type="text" id="form-bidprice" name="bidprice"
                                                placeholder="Ïòà: 100,000,000" oninput="formatNumber(this)"
                                                onfocus="this.select()"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-right">
                                        </div>
                                        <div class="mb-6"><label for="form-m-name-id"
                                                class="block text-sm font-medium text-gray-700 mb-1">ÏûÖÏ∞∞Í∞ÄÎã¥Îãπ</label>
                                            <select id="form-m-name-id" name="m_name_id"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white">
                                                <option value="ÎåÄÌëúÎãò">ÎåÄÌëúÎãò</option>
                                                <option value="Ï†ÑÏ†úÌòÅ">Ï†ÑÏ†úÌòÅ</option>
                                            </select>
                                        </div>


                                    </div>

                                    <!-- Ïù¥ÎØ∏ÏßÄ ID Î∞è Î¨ºÍ±¥Í∑∏Îû©Í≤ΩÎ≥¥ -->


                                    <!-- ÌÖîÎ†àÍ∑∏Îû®Ï†ïÎ≥¥ (ÌöåÏõê ÌÖîÎ†àÍ∑∏Îû® Ï†ïÎ≥¥ - ÏùΩÍ∏∞ Ï†ÑÏö©) -->
                                    <div class="mb-4 md:col-span-2 border-t pt-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-3">ÌÖîÎ†àÍ∑∏Îû®Ï†ïÎ≥¥</label>
                                        <div class="grid grid-cols-3 gap-3">
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">Y/N</label>
                                                <div id="form-telegram-username"
                                                    class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-sm text-gray-700">
                                                    -</div>
                                            </div>
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">ÌÜ†ÌÅ∞</label>
                                                <div id="form-member-token-display"
                                                    class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-xs text-gray-700 truncate">
                                                    -</div>
                                            </div>
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">ID</label>
                                                <div id="form-telegram-chat-id"
                                                    class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-sm text-gray-700">
                                                    -</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï†ïÎ≥¥ -->
                                    <div class="mb-4 md:col-span-2 border-t pt-4">
                                        <div class="grid grid-cols-4 gap-4">
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">Ïù¥ÎØ∏ÏßÄ
                                                    ID</label>
                                                <div class="text-sm text-gray-700 truncate max-w-[100px]"
                                                    id="currentIdDisplay-moved" title="">-</div>
                                            </div>
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏ†ïÎÇ†Ïßú</label>
                                                <div class="text-sm text-gray-700" id="currentModDate">-</div>
                                            </div>
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">Îì±Î°ùÏûê</label>
                                                <div class="text-sm text-gray-700" id="currentRegMember">-</div>
                                            </div>
                                            <div>
                                                <label class="block text-xs font-medium text-gray-600 mb-1">Îì±Î°ùÏùºÏûê</label>
                                                <div class="text-sm text-gray-700" id="currentRegDate">-</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÎπÑÍ≥† 2Î∂ÑÌï†: ÌöåÏõêÎπÑÍ≥†(Ï¢å) + Î¨ºÍ±¥ÎπÑÍ≥†(Ïö∞) -->
                                    <div class="md:col-span-2 grid grid-cols-2 gap-3 mt-2">
                                        <!-- ÏôºÏ™Ω: ÌöåÏõêÎπÑÍ≥† -->
                                        <div class="flex flex-col">
                                            <div class="flex items-center justify-between mb-1">
                                                <label class="block text-sm font-medium text-gray-700">ÌöåÏõêÎπÑÍ≥†</label>
                                                <div class="flex gap-1">
                                                    <button type="button" onclick="goToMemberFromDetail()"
                                                        class="text-xs px-2 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded transition font-medium">ÌöåÏõêÍ¥ÄÎ¶¨</button>
                                                    <button type="button" onclick="saveMemberNoteOnly()"
                                                        class="text-xs px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded transition font-medium">ÌöåÏõêÎπÑÍ≥†
                                                        Ï†ÄÏû•</button>
                                                </div>
                                            </div>
                                            <textarea id="form-member-note" rows="6" placeholder="ÌöåÏõê ÎπÑÍ≥† ÏóÜÏùå"
                                                class="flex-1 w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 resize-none text-sm bg-teal-50"></textarea>
                                        </div>
                                        <!-- Ïò§Î•∏Ï™Ω: Î¨ºÍ±¥ÎπÑÍ≥† -->
                                        <div class="flex flex-col">
                                            <label for="form-note"
                                                class="block text-sm font-medium text-gray-700 mb-1">Î¨ºÍ±¥ÎπÑÍ≥†</label>
                                            <textarea id="form-note" name="note" rows="6" placeholder="Î©îÎ™®ÎÇò ÎπÑÍ≥†ÏÇ¨Ìï≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                                                class="flex-1 w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 resize-none text-sm"></textarea>
                                        </div>
                                    </div>


                                </form>
                            </div>
                        </div>
                        <div id="itemInvestigationTabContent"
                            class="content-hidden flex-1 min-h-0 flex flex-col overflow-hidden">
                            <div id="investigationDropZone"
                                class="content-hidden flex-shrink-0 border-2 border-dashed border-gray-300 rounded-lg p-4 mx-2 mt-2 bg-gray-50 text-center text-sm text-gray-500">
                                Ïù¥ÎØ∏ÏßÄÎ•º Ïó¨Í∏∞Ïóê ÎÜìÍ±∞ÎÇò <kbd class="px-1 py-0.5 bg-white border rounded">Ctrl+V</kbd> Î°ú Î∂ôÏó¨ÎÑ£Í∏∞
                            </div>
                            <div id="investigationImageContainer"
                                class="investigation-image-wrap flex-1 min-h-0 bg-gray-100 overflow-y-auto flex flex-col items-start">
                                <p id="investigationPlaceholder"
                                    class="text-gray-500 text-center py-8 self-center w-full">Îß§Ïπ≠Îêú Ïù¥ÎØ∏ÏßÄ ÏóÜÏùå</p>
                                <div id="investigationImageList" class="w-full flex flex-col gap-4 p-1 content-hidden">
                                </div>
                            </div>
                            <div id="investigationImageIdsFooter"
                                class="flex-shrink-0 border-t border-gray-200 bg-gray-50 px-3 py-2 text-xs text-gray-600 font-mono overflow-x-auto">
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- ================================ ÌöåÏõêÍ¥ÄÎ¶¨ (MemberManagement) ================================ -->
            <div id="MemberManagement" class="tab-content h-full flex content-hidden">
                <!-- Ï¢åÏ∏°: Ï°∞Ìöå Ìï≠Î™© + Î¶¨Ïä§Ìä∏ -->
                <div id="memberListPane"
                    class="w-full md:w-1/2 flex flex-col border-r border-gray-200 bg-white overflow-hidden">
                    <!-- Ï†úÎ™© + Î≤ÑÌäº -->
                    <div
                        class="p-4 flex flex-col md:flex-row justify-between items-start md:items-center bg-gray-50 border-b shadow-sm gap-2">
                        <h2 class="text-xl font-semibold text-gray-800">ÌöåÏõê Î™©Î°ù</h2>
                        <div class="flex space-x-2">
                            <button onclick="resetMemberSearch()"
                                class="text-sm text-red-500 hover:text-red-700 border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50">Ï¥àÍ∏∞Ìôî</button>
                            <button onclick="loadMembersNew()"
                                class="text-sm text-gray-600 hover:text-gray-800 border border-gray-200 px-3 py-1.5 rounded-md hover:bg-gray-50">ÏÉàÎ°úÍ≥†Ïπ®</button>
                        </div>
                    </div>
                    <!-- Ï°∞Ìöå Ìï≠Î™© (2Ï§Ñ) -->
                    <div class="p-3 bg-gray-50 border-b space-y-2">
                        <div class="flex flex-wrap gap-2">
                            <input type="text" id="mem-search-name" oninput="filterMembersNew()" placeholder="ÌöåÏõêÏù¥Î¶Ñ"
                                class="flex-1 min-w-[100px] px-3 py-2 border border-gray-300 rounded-lg text-sm">
                            <select id="mem-search-class-type" onchange="filterMembersNew()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÍµ¨Î∂Ñ</option>
                            </select>
                            <select id="mem-search-class-name" onchange="filterMembersNew()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÏù¥Î¶Ñ</option>
                            </select>
                            <select id="mem-search-class-grade" onchange="filterMembersNew()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÎì±Í∏â</option>
                            </select>
                            <select id="mem-search-class-loc" onchange="filterMembersNew()"
                                class="flex-1 min-w-[60px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏßÄÏó≠</option>
                            </select>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <input type="text" id="mem-search-phone" oninput="filterMembersNew()" placeholder="Ï†ÑÌôîÎ≤àÌò∏"
                                class="flex-1 min-w-[100px] px-3 py-2 border border-gray-300 rounded-lg text-sm">
                            <select id="mem-search-gubun" onchange="filterMembersNew()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">Íµ¨Î∂Ñ</option>
                                <option value="ÌöåÏõê">ÌöåÏõê</option>
                                <option value="ÏßÅÏõê">ÏßÅÏõê</option>
                                <option value="Í¥ÄÎ¶¨Ïûê">Í¥ÄÎ¶¨Ïûê</option>
                            </select>
                        </div>
                    </div>
                    <!-- Î¶¨Ïä§Ìä∏ ÌÖåÏù¥Î∏î -->
                    <div class="flex-1 overflow-y-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0 z-10">
                                <tr>
                                    <th onclick="sortMemberList('member_id')"
                                        class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ID</th>
                                    <th onclick="sortMemberList('gubun')"
                                        class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        Íµ¨Î∂Ñ</th>
                                    <th onclick="sortMemberList('telegram_chat_id')"
                                        class="px-1 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        C_ID</th>
                                    <th onclick="sortMemberList('telegram_enabled')"
                                        class="px-1 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        TEL</th>
                                    <th onclick="sortMemberList('member_name')"
                                        class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        Ïù¥Î¶Ñ</th>
                                    <th onclick="sortMemberList('phone')"
                                        class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        Ï†ÑÌôîÎ≤àÌò∏</th>
                                    <th class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700">ÏàòÏóÖÍµ¨Î∂Ñ
                                    </th>
                                    <th class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700">ÏàòÏóÖÏù¥Î¶Ñ
                                    </th>
                                    <th class="px-2 py-2 text-center text-xs md:text-sm font-bold text-gray-700">ÏßÄÏó≠</th>
                                </tr>
                            </thead>
                            <tbody id="memberDataTableBody" class="bg-white divide-y divide-gray-100">
                                <tr>
                                    <td colspan="9" class="p-4 text-center text-gray-500">Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <button onclick="showMemberFormNew('create')"
                        class="md:hidden fixed bottom-20 right-4 bg-indigo-600 text-white rounded-full p-4 shadow-lg z-40 hover:bg-indigo-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg>
                    </button>
                </div>
                <!-- Ïö∞Ï∏°: ÏÉÅÏÑ∏ÌôîÎ©¥ -->
                <div id="memberDetailPane" class="w-full md:w-1/2 p-4 bg-gray-100 overflow-y-auto mobile-hidden">
                    <div class="bg-white rounded-xl shadow-lg p-5">
                        <div class="flex justify-between items-center mb-4 border-b pb-3">
                            <h3 id="memberFormTitle" class="text-xl font-semibold text-gray-800">ÌöåÏõêÍ¥ÄÎ¶¨ ÏÉÅÏÑ∏ÌôîÎ©¥</h3>
                            <div class="flex space-x-2">
                                <button type="button" id="btnGoBackToCreate" onclick="showMemberFormNew('create')"
                                    class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">Îì±Î°ùÌôîÎ©¥</button>
                                <button type="button" id="btnCreateMember" onclick="handleMemberFormSubmitNew()"
                                    class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-1.5 px-3 rounded-lg text-sm">Îì±Î°ù</button>
                                <button type="button" id="btnUpdateMember" onclick="handleMemberFormSubmitNew()"
                                    class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">ÏàòÏ†ï</button>
                                <button type="button" id="btnDeleteMember" onclick="handleMemberDeleteNew()"
                                    class="bg-red-500 hover:bg-red-600 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">ÏÇ≠Ï†ú</button>
                            </div>
                        </div>
                        <form id="memberForm">
                            <input type="hidden" id="mem-member_id" name="member_id">
                            <input type="hidden" id="mem-class_id" name="class_id">
                            <div class="grid grid-cols-2 gap-4">
                                <!-- Ï¢åÏ∏° Ïª¨Îüº -->
                                <div class="space-y-3">
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Íµ¨Î∂Ñ *</label>
                                        <select id="mem-gubun" name="gubun"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                            <option value="ÌöåÏõê">ÌöåÏõê</option>
                                            <option value="ÏßÅÏõê">ÏßÅÏõê</option>
                                            <option value="Í¥ÄÎ¶¨Ïûê">Í¥ÄÎ¶¨Ïûê</option>
                                        </select>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Ïù¥Î¶Ñ *</label>
                                        <input type="text" id="mem-member_name" name="member_name" required
                                            placeholder="ÌöåÏõê Ïù¥Î¶Ñ"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Ï†ÑÌôîÎ≤àÌò∏ *</label>
                                        <input type="text" id="mem-phone" name="phone" placeholder="010-0000-0000"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="w-20"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Î™ÖÏùò1</label>
                                            <select id="mem-name1_gubun" name="name1_gubun"
                                                class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                                <option value="">-</option>
                                                <option value="Í∞úÏù∏">Í∞úÏù∏</option>
                                                <option value="Î≤ïÏù∏">Î≤ïÏù∏</option>
                                                <option value="MJ">MJ</option>
                                            </select>
                                        </div>
                                        <div class="flex-1">
                                            <label class="block text-xs font-medium text-gray-600 mb-1">&nbsp;</label>
                                            <input type="text" id="mem-name1" name="name1" placeholder="Î™ÖÏùò1 Ïù¥Î¶Ñ"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="w-20"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Î™ÖÏùò2</label>
                                            <select id="mem-name2_gubun" name="name2_gubun"
                                                class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                                <option value="">-</option>
                                                <option value="Í∞úÏù∏">Í∞úÏù∏</option>
                                                <option value="Î≤ïÏù∏">Î≤ïÏù∏</option>
                                                <option value="MJ">MJ</option>
                                            </select>
                                        </div>
                                        <div class="flex-1">
                                            <label class="block text-xs font-medium text-gray-600 mb-1">&nbsp;</label>
                                            <input type="text" id="mem-name2" name="name2" placeholder="Î™ÖÏùò2 Ïù¥Î¶Ñ"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="w-20"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Î™ÖÏùò3</label>
                                            <select id="mem-name3_gubun" name="name3_gubun"
                                                class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                                <option value="">-</option>
                                                <option value="Í∞úÏù∏">Í∞úÏù∏</option>
                                                <option value="Î≤ïÏù∏">Î≤ïÏù∏</option>
                                                <option value="MJ">MJ</option>
                                            </select>
                                        </div>
                                        <div class="flex-1">
                                            <label class="block text-xs font-medium text-gray-600 mb-1">&nbsp;</label>
                                            <input type="text" id="mem-name3" name="name3" placeholder="Î™ÖÏùò3 Ïù¥Î¶Ñ"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Í∞ÄÏûÖÏùº</label>
                                        <input type="date" id="mem-kaib_date" name="kaib_date"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÌöåÏõê ÎπÑÍ≥†1</label>
                                        <textarea id="mem-note1" name="note1" rows="3"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none"></textarea>
                                    </div>
                                </div>
                                <!-- Ïö∞Ï∏° Ïª¨Îüº -->
                                <div class="space-y-3">
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÍµ¨Î∂Ñ</label>
                                        <select id="mem-class_type_display"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50"
                                            disabled>
                                            <option value="">ÏàòÏóÖ ÏÑ†ÌÉùÏãú ÏûêÎèô</option>
                                        </select>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÏù¥Î¶Ñ</label>
                                        <select id="mem-class_id_select" onchange="onMemberClassSelect()"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                            <option value="">ÏàòÏóÖ ÏÑ†ÌÉù</option>
                                        </select>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÎì±Í∏â</label>
                                        <input type="text" id="mem-class_grade_display" readonly placeholder="ÏàòÏóÖ ÏÑ†ÌÉùÏãú ÏûêÎèô"
                                            class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-gray-50">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏßÄÏó≠</label>
                                        <input type="text" id="mem-class_loc_display" readonly
                                            class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-gray-50">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Ï£ºÏÜå</label>
                                        <input type="text" id="mem-address" name="address" placeholder="Ï£ºÏÜå ÏûÖÎ†•"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="w-24"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Í≥ÑÏ¢åÏùÄÌñâ</label>
                                            <input type="text" id="mem-account_bank" name="account_bank"
                                                placeholder="ÏùÄÌñâÎ™Ö"
                                                class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                        <div class="flex-1"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Í≥ÑÏ¢åÎ≤àÌò∏</label>
                                            <input type="text" id="mem-account_no" name="account_no" placeholder="Í≥ÑÏ¢åÎ≤àÌò∏"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Class ÎπÑÍ≥†</label>
                                        <textarea id="mem-note2" name="note2" rows="3"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none"></textarea>
                                    </div>
                                    <!-- ÌÖîÎ†àÍ∑∏Îû® Ïó∞Îèô -->
                                    <div class="border-t pt-3 mt-2">
                                        <label class="block text-xs font-semibold text-gray-700 mb-2">ÌÖîÎ†àÍ∑∏Îû® Ïó∞Îèô</label>
                                        <div class="flex gap-2 items-center">
                                            <input type="text" id="mem-member_token" readonly placeholder="member_token"
                                                class="flex-1 px-2 py-1.5 border border-gray-200 rounded text-xs font-mono bg-gray-50">
                                            <button type="button" onclick="handleRegenerateMemberTokenNew()"
                                                class="px-2 py-1.5 rounded bg-indigo-600 hover:bg-indigo-700 text-white text-xs">Ïû¨Î∞úÍ∏â</button>
                                            <button type="button" onclick="copyMemberTokenNew()"
                                                class="px-2 py-1.5 rounded bg-gray-200 hover:bg-gray-300 text-xs">Î≥µÏÇ¨</button>
                                        </div>
                                        <div class="flex gap-2 mt-2">
                                            <input type="text" id="mem-telegram_chat_id" readonly placeholder="chat_id"
                                                class="flex-1 px-2 py-1.5 border border-gray-200 rounded text-xs font-mono bg-gray-50">
                                            <select id="mem-telegram_enabled" name="telegram_enabled"
                                                class="w-16 px-2 py-1.5 border border-gray-300 rounded text-xs bg-white">
                                                <option value="N">N</option>
                                                <option value="Y">Y</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ================================ ÏàòÏóÖÍ¥ÄÎ¶¨ (ClassManagement) ================================ -->
            <div id="ClassManagement" class="tab-content h-full flex content-hidden">
                <!-- Ï¢åÏ∏°: Ï°∞Ìöå Ìï≠Î™© + Î¶¨Ïä§Ìä∏ -->
                <div id="classListPane"
                    class="w-full md:w-1/2 flex flex-col border-r border-gray-200 bg-white overflow-hidden">
                    <div
                        class="p-4 flex flex-col md:flex-row justify-between items-start md:items-center bg-gray-50 border-b shadow-sm gap-2">
                        <h2 class="text-xl font-semibold text-gray-800">ÏàòÏóÖ Î™©Î°ù</h2>
                        <div class="flex space-x-2">
                            <button onclick="resetClassSearch()"
                                class="text-sm text-red-500 hover:text-red-700 border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50">Ï¥àÍ∏∞Ìôî</button>
                            <button onclick="loadClasses()"
                                class="text-sm text-gray-600 hover:text-gray-800 border border-gray-200 px-3 py-1.5 rounded-md hover:bg-gray-50">ÏÉàÎ°úÍ≥†Ïπ®</button>
                        </div>
                    </div>
                    <!-- Ï°∞Ìöå Ìï≠Î™© -->
                    <div class="p-3 bg-gray-50 border-b">
                        <div class="flex flex-wrap gap-2">
                            <select id="cls-search-type" onchange="filterClasses()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÍµ¨Î∂Ñ</option>
                            </select>
                            <select id="cls-search-name" onchange="filterClasses()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÏù¥Î¶Ñ</option>
                            </select>
                            <select id="cls-search-grade" onchange="filterClasses()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÎì±Í∏â</option>
                            </select>
                            <select id="cls-search-loc" onchange="filterClasses()"
                                class="flex-1 min-w-[60px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏßÄÏó≠</option>
                            </select>
                        </div>
                    </div>
                    <!-- Î¶¨Ïä§Ìä∏ ÌÖåÏù¥Î∏î -->
                    <div class="flex-1 overflow-y-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0 z-10">
                                <tr>
                                    <th onclick="sortClassList('class_id')"
                                        class="px-2 py-2 text-center text-xs font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ID</th>
                                    <th class="px-2 py-2 text-center text-xs font-bold text-gray-700">ÌöåÏ∞®</th>
                                    <th onclick="sortClassList('class_type')"
                                        class="px-2 py-2 text-center text-xs font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ÏàòÏóÖÍµ¨Î∂Ñ</th>
                                    <th onclick="sortClassList('class_name')"
                                        class="px-2 py-2 text-center text-xs font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ÏàòÏóÖÏù¥Î¶Ñ</th>
                                    <th onclick="sortClassList('class_grade')"
                                        class="px-2 py-2 text-center text-xs font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ÏàòÏóÖÎì±Í∏â</th>
                                    <th onclick="sortClassList('class_loc')"
                                        class="px-2 py-2 text-center text-xs font-bold text-gray-700 cursor-pointer hover:bg-gray-100">
                                        ÏßÄÏó≠</th>
                                </tr>
                            </thead>
                            <tbody id="classDataTableBody" class="bg-white divide-y divide-gray-100">
                                <tr>
                                    <td colspan="6" class="p-4 text-center text-gray-500">Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <button onclick="showClassForm('create')"
                        class="md:hidden fixed bottom-20 right-4 bg-indigo-600 text-white rounded-full p-4 shadow-lg z-40 hover:bg-indigo-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg>
                    </button>
                </div>
                <!-- Ïö∞Ï∏°: ÏÉÅÏÑ∏ÌôîÎ©¥ -->
                <div id="classDetailPane" class="w-full md:w-1/2 p-4 bg-gray-100 overflow-y-auto mobile-hidden">
                    <div class="bg-white rounded-xl shadow-lg p-5">
                        <div class="flex justify-between items-center mb-4 border-b pb-3">
                            <h3 id="classFormTitle" class="text-xl font-semibold text-gray-800">ÏàòÏóÖÍ¥ÄÎ¶¨ ÏÉÅÏÑ∏ÌôîÎ©¥</h3>
                            <div class="flex space-x-2">
                                <button type="button" id="btnGoBackToCreateClass" onclick="showClassForm('create')"
                                    class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">Îì±Î°ùÌôîÎ©¥</button>
                                <button type="button" id="btnCreateClass" onclick="handleClassFormSubmit()"
                                    class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-1.5 px-3 rounded-lg text-sm">Îì±Î°ù</button>
                                <button type="button" id="btnUpdateClass" onclick="handleClassFormSubmit()"
                                    class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">ÏàòÏ†ï</button>
                                <button type="button" id="btnDeleteClass" onclick="handleClassDelete()"
                                    class="bg-red-500 hover:bg-red-600 text-white font-semibold py-1.5 px-3 rounded-lg text-sm content-hidden">ÏÇ≠Ï†ú</button>
                            </div>
                        </div>
                        <form id="classForm">
                            <input type="hidden" id="cls-class_id" name="class_id">
                            <div class="grid grid-cols-2 gap-4">
                                <!-- Ï¢åÏ∏° Ïª¨Îüº -->
                                <div class="space-y-3">
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÍµ¨Î∂Ñ *</label>
                                        <input type="text" id="cls-class_type" name="class_type" required
                                            placeholder="CLASS, PT Îì±"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÏù¥Î¶Ñ *</label>
                                        <input type="text" id="cls-class_name" name="class_name" required
                                            placeholder="ÏàòÏóÖ Ïù¥Î¶Ñ"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÎì±Í∏â</label>
                                        <input type="text" id="cls-class_grade" name="class_grade"
                                            placeholder="ÏùºÎ∞ò, ÌîåÎ†àÌã∞ÎÑò Îì±"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏßÄÏó≠</label>
                                        <input type="text" id="cls-class_loc" name="class_loc" placeholder="ÏÑúÏö∏, Î∂ÄÏÇ∞ Îì±"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="w-20"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">Î≥¥Ïû•ÌòïÏãù</label>
                                            <select id="cls-guaranteed_type" name="guaranteed_type"
                                                class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                                <option value="">-</option>
                                                <option value="Î¨ºÍ±¥Ï∂îÏ≤ú">Î¨ºÍ±¥Ï∂îÏ≤ú</option>
                                                <option value="ÎÇôÏ∞∞">ÎÇôÏ∞∞</option>
                                                <option value="ÏàòÏùµ">ÏàòÏùµ</option>
                                                <option value="ÏàòÏóÖ">ÏàòÏóÖ</option>
                                            </select>
                                        </div>
                                        <div class="flex-1"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">ÏÉÅÏÑ∏</label>
                                            <input type="text" id="cls-guaranteed_details" name="guaranteed_details"
                                                placeholder="Î≥¥Ïû• ÏÉÅÏÑ∏"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                </div>
                                <!-- Ïö∞Ï∏° Ïª¨Îüº -->
                                <div class="space-y-3">
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏóÖÏöîÏùº</label>
                                        <input type="text" id="cls-class_week" name="class_week" placeholder="Ïõî, Ìôî, Ïàò Îì±"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">ÏãúÏûëÏãúÍ∞Ñ</label>
                                        <input type="text" id="cls-class_time_from" name="class_time_from"
                                            placeholder="10"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Ï¢ÖÎ£åÏãúÍ∞Ñ</label>
                                        <input type="text" id="cls-class_time_to" name="class_time_to" placeholder="13"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                            onfocus="this.select()">
                                    </div>
                                    <div class="flex gap-2">
                                        <div class="flex-1"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">ÌöåÏ∞®</label>
                                            <input type="number" id="cls-class_loop" name="class_loop" placeholder="13"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                        <div class="flex-1"><label
                                                class="block text-xs font-medium text-gray-600 mb-1">ÏµúÏÜå</label>
                                            <input type="number" id="cls-class_loop_min" name="class_loop_min"
                                                placeholder="6"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                                onfocus="this.select()">
                                        </div>
                                    </div>
                                    <div><label class="block text-xs font-medium text-gray-600 mb-1">Class ÎπÑÍ≥†</label>
                                        <textarea id="cls-remark" name="remark" rows="4"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none"></textarea>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ================================ ÏàòÏóÖÌöåÏ∞® (ClassSchedule) ================================ -->
            <div id="ClassSchedule" class="tab-content h-full flex content-hidden">
                <!-- Ï¢åÏ∏°: ÏàòÏóÖ ÏÑ†ÌÉù + ÌöåÏ∞® Î¶¨Ïä§Ìä∏ -->
                <div id="classScheduleListPane"
                    class="w-full md:w-1/2 flex flex-col border-r border-gray-200 bg-white overflow-hidden">
                    <div
                        class="p-4 flex flex-col md:flex-row justify-between items-start md:items-center bg-gray-50 border-b shadow-sm gap-2">
                        <h2 class="text-xl font-semibold text-gray-800">ÏàòÏóÖÏÉÅÏÑ∏</h2>
                        <div class="flex space-x-2">
                            <button onclick="loadClassScheduleList()"
                                class="text-sm text-gray-600 hover:text-gray-800 border border-gray-200 px-3 py-1.5 rounded-md hover:bg-gray-50">ÏÉàÎ°úÍ≥†Ïπ®</button>
                        </div>
                    </div>
                    <!-- ÏàòÏóÖ ÏÉÅÏÑ∏ Ï°∞Ìöå Ìï≠Î™© -->
                    <div class="p-3 bg-gray-50 border-b">
                        <div class="flex flex-wrap gap-2">
                            <input type="text" id="csd-search-member" oninput="filterClassScheduleList()"
                                placeholder="ÌöåÏõêÏù¥Î¶Ñ"
                                class="flex-1 min-w-[80px] px-3 py-2 border border-gray-300 rounded-lg text-sm">
                            <select id="csd-search-type" onchange="filterClassScheduleList()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÍµ¨Î∂Ñ</option>
                            </select>
                            <select id="csd-search-name" onchange="filterClassScheduleList()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÏù¥Î¶Ñ</option>
                            </select>
                            <select id="csd-search-grade" onchange="filterClassScheduleList()"
                                class="flex-1 min-w-[80px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏàòÏóÖÎì±Í∏â</option>
                            </select>
                            <select id="csd-search-loc" onchange="filterClassScheduleList()"
                                class="flex-1 min-w-[60px] px-2 py-2 border border-gray-300 rounded-lg text-sm bg-white">
                                <option value="">ÏßÄÏó≠</option>
                            </select>
                        </div>
                    </div>
                    <!-- ÏàòÏóÖ ÏÉÅÏÑ∏ Ï°∞Ìöå Î¶¨Ïä§Ìä∏ -->
                    <div class="flex-1 overflow-y-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0 z-10">
                                <tr>
                                    <th class="px-2 py-2 text-center text-xs font-bold text-gray-700">ÏàòÏóÖÍµ¨Î∂Ñ</th>
                                    <th class="px-2 py-2 text-center text-xs font-bold text-gray-700">ÏàòÏóÖÏù¥Î¶Ñ</th>
                                    <th class="px-2 py-2 text-center text-xs font-bold text-gray-700">ÏàòÏóÖÎì±Í∏â</th>
                                    <th class="px-2 py-2 text-center text-xs font-bold text-gray-700">ÏßÄÏó≠</th>
                                </tr>
                            </thead>
                            <tbody id="classScheduleListTableBody" class="bg-white divide-y divide-gray-100">
                                <tr>
                                    <td colspan="4" class="p-4 text-center text-gray-500">ÏàòÏóÖÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Ïö∞Ï∏°: ÏàòÏóÖ ÏÉÅÏÑ∏ (ÌöåÏ∞® Í∑∏Î¶¨Îìú + ÌöåÏõê Î¶¨Ïä§Ìä∏) -->
                <div id="classScheduleDetailPane" class="w-full md:w-1/2 p-4 bg-gray-100 overflow-y-auto mobile-hidden">
                    <div class="bg-white rounded-xl shadow-lg p-5 mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-semibold text-gray-800">ÏàòÏóÖ ÏÉÅÏÑ∏ Ï°∞Ìöå Ìï≠Î™©</h3>
                            <button type="button" onclick="showGenerateD1Modal()"
                                class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-1.5 px-3 rounded-lg text-sm">Îã§ÏùåÌöåÏ∞®
                                ÏÉùÏÑ±</button>
                        </div>
                        <!-- ÌöåÏ∞® Í∑∏Î¶¨Îìú -->
                        <div id="classD1Grid" class="grid grid-cols-7 gap-1 text-center text-xs">
                            <div class="text-gray-400 py-2">ÌöåÏ∞®Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</div>
                        </div>
                    </div>
                    <!-- ÌöåÏõê Ï°∞Ìöå ÏòÅÏó≠ -->
                    <div class="bg-white rounded-xl shadow-lg p-5">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-semibold text-gray-800">ÌöåÏõê Ï°∞Ìöå Ìï≠Î™©</h3>
                            <button type="button" onclick="showAddMemberToD1Modal()"
                                class="bg-green-600 hover:bg-green-700 text-white font-semibold py-1.5 px-3 rounded-lg text-sm">ÌöåÏõêÏ∂îÍ∞Ä</button>
                        </div>
                        <div class="mb-3">
                            <input type="text" id="csd-member-search" oninput="filterD1Members()" placeholder="Ïù¥Î¶Ñ Í≤ÄÏÉâ"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        </div>
                        <!-- ÌöåÏõê Î¶¨Ïä§Ìä∏ -->
                        <div class="border rounded-lg overflow-hidden">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-2 py-2 text-left text-xs font-bold text-gray-700">ÌöåÏõê Î¶¨Ïä§Ìä∏</th>
                                        <th class="px-2 py-2 text-center text-xs font-bold text-gray-700 w-16">ÌöåÏ∞®</th>
                                    </tr>
                                </thead>
                                <tbody id="classD1MemberTableBody" class="bg-white divide-y divide-gray-100">
                                    <tr>
                                        <td colspan="2" class="p-4 text-center text-gray-500 text-sm">ÏàòÏóÖ ÌöåÏ∞®Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- ÌöåÏõê ÏÉÅÏÑ∏ Ï†ïÎ≥¥ -->
                        <div id="classD1MemberDetail" class="mt-4 p-4 bg-gray-50 rounded-lg content-hidden">
                            <div class="grid grid-cols-2 gap-3 text-sm">
                                <div><span class="text-gray-500">Íµ¨Î∂Ñ:</span> <span id="d1m-gubun"
                                        class="font-medium">-</span></div>
                                <div><span class="text-gray-500">Ïù¥Î¶Ñ:</span> <span id="d1m-name"
                                        class="font-medium">-</span></div>
                                <div><span class="text-gray-500">Ï†ÑÌôîÎ≤àÌò∏:</span> <span id="d1m-phone"
                                        class="font-medium">-</span></div>
                                <div><span class="text-gray-500">Í∞ÄÏûÖÏùº:</span> <span id="d1m-kaib_date"
                                        class="font-medium">-</span></div>
                                <div class="flex gap-2">
                                    <span class="text-gray-500">Î™ÖÏùò1:</span>
                                    <span id="d1m-name1_gubun" class="px-1 bg-gray-200 rounded text-xs">-</span>
                                    <span id="d1m-name1" class="font-medium">-</span>
                                </div>
                                <div class="flex gap-2">
                                    <span class="text-gray-500">Î™ÖÏùò2:</span>
                                    <span id="d1m-name2_gubun" class="px-1 bg-gray-200 rounded text-xs">-</span>
                                    <span id="d1m-name2" class="font-medium">-</span>
                                </div>
                                <div class="flex gap-2">
                                    <span class="text-gray-500">Î™ÖÏùò3:</span>
                                    <span id="d1m-name3_gubun" class="px-1 bg-gray-200 rounded text-xs">-</span>
                                    <span id="d1m-name3" class="font-medium">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌöåÏ∞® ÏÉùÏÑ± Î™®Îã¨ -->
            <div id="generateD1Modal" class="modal content-hidden" onclick="closeGenerateD1Modal(event)">
                <div class="modal-content max-w-md" onclick="event.stopPropagation()">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">ÌöåÏ∞® ÏÉùÏÑ±</h3>
                    <form id="generateD1Form">
                        <div class="space-y-3">
                            <div><label class="block text-sm font-medium text-gray-700 mb-1">ÏãúÏûëÏùº (Í∏∞Ï§ÄÏùº)</label>
                                <input type="date" id="genD1-startDate" required
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            </div>
                            <div><label class="block text-sm font-medium text-gray-700 mb-1">Î£®ÌîÑ Îã®ÏúÑ (Ï£º)</label>
                                <select id="genD1-loopUnit" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="1">Îß§Ï£º (1Ï£º)</option>
                                    <option value="2">Í≤©Ï£º (2Ï£º)</option>
                                    <option value="3">3Ï£º</option>
                                    <option value="4">4Ï£º</option>
                                </select>
                            </div>
                            <div><label class="block text-sm font-medium text-gray-700 mb-1">ÏÉùÏÑ±Ìï† ÌöåÏ∞® Ïàò</label>
                                <input type="number" id="genD1-loopCount" value="10" min="1" max="50"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            </div>
                        </div>
                        <div class="flex justify-end gap-2 mt-5">
                            <button type="button" onclick="closeGenerateD1Modal()"
                                class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm">Ï∑®ÏÜå</button>
                            <button type="button" onclick="handleGenerateD1()"
                                class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-semibold">ÏÉùÏÑ±</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- ÌöåÏõê Ï∂îÍ∞Ä Î™®Îã¨ -->
            <div id="addMemberToD1Modal" class="modal content-hidden" onclick="closeAddMemberToD1Modal(event)">
                <div class="modal-content max-w-md" onclick="event.stopPropagation()">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">ÌöåÏõê Ï∂îÍ∞Ä</h3>
                    <div class="mb-3">
                        <input type="text" id="addD1Member-search" oninput="filterAddMemberList()" placeholder="Ïù¥Î¶ÑÏúºÎ°ú Í≤ÄÏÉâ"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div class="max-h-60 overflow-y-auto border rounded-lg">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th class="px-3 py-2 text-left text-xs font-bold text-gray-700">Ïù¥Î¶Ñ</th>
                                    <th class="px-3 py-2 text-left text-xs font-bold text-gray-700">Ï†ÑÌôîÎ≤àÌò∏</th>
                                    <th class="px-3 py-2 text-center text-xs font-bold text-gray-700 w-16">Ï∂îÍ∞Ä</th>
                                </tr>
                            </thead>
                            <tbody id="addMemberListTableBody" class="bg-white divide-y divide-gray-100">
                                <tr>
                                    <td colspan="3" class="p-4 text-center text-gray-500 text-sm">ÌöåÏõê Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="flex justify-end mt-4">
                        <button type="button" onclick="closeAddMemberToD1Modal()"
                            class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm">Îã´Í∏∞</button>
                    </div>
                </div>
            </div>

            <div id="Preferences" class="tab-content h-full p-4 md:p-8 overflow-y-auto content-hidden">
                <h1 class="text-3xl font-bold text-gray-800 mb-6">ÌôòÍ≤ΩÏÑ§Ï†ï</h1>

                <div class="bg-white p-6 rounded-xl shadow-lg mb-6 border border-indigo-200">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Ïù¥ÎØ∏ÏßÄ ÎèôÍ∏∞Ìôî</h2>
                    <p class="text-gray-600 mb-4 text-sm">Google Drive ÏóÖÎ°úÎìú Ìè¥ÎçîÏùò Ïù¥ÎØ∏ÏßÄÎ•º ÏûêÎèôÏúºÎ°ú Îß§Ïπ≠ÌïòÍ≥† ÏãúÌä∏Ïóê Îì±Î°ùÌï©ÎãàÎã§.</p>
                    <p class="text-gray-500 mb-4 text-xs">ÌååÏùºÎ™Ö ÌòïÏãù: <code
                            class="bg-gray-100 px-2 py-1 rounded">ÏÇ¨Í±¥Î≤àÌò∏_ÎÇ†Ïßú_Î≤ïÏõêÎ™Ö.ÌôïÏû•Ïûê</code> (Ïòà:
                        2024ÌÉÄÍ≤Ω1234_251102_ÏÑúÏö∏Ï§ëÏïôÏßÄÎ∞©Î≤ïÏõê.jpg)</p>
                    <p class="text-gray-500 mb-4 text-xs">ÏµúÎåÄ 100Í∞ú ÌååÏùºÏî© Ï≤òÎ¶¨Îê©ÎãàÎã§.</p>
                    <div class="flex items-center space-x-4 mb-4">
                        <button id="syncImagesButton" onclick="handleSyncImages()"
                            class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-150 flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                                </path>
                            </svg>
                            Ïù¥ÎØ∏ÏßÄ ÎèôÍ∏∞Ìôî Ïã§Ìñâ
                        </button>
                        <div id="syncImagesStatus" class="text-sm text-gray-600"></div>
                    </div>

                    <!-- ÎèôÍ∏∞Ìôî Ïù¥Î†• Í≤ÄÏÉâ -->
                    <div class="bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200">
                        <h3 class="text-sm font-bold text-gray-700 mb-3 flex items-center">
                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            Ïù¥ÎØ∏ÏßÄ ÎèôÍ∏∞Ìôî Ïù¥Î†• Ï°∞Ìöå (ÏµúÍ∑º 3Ïùº)
                        </h3>
                        <div class="flex flex-wrap gap-2 items-end">
                            <div class="flex-1 min-w-[120px]">
                                <label class="block text-[10px] text-gray-500 mb-1">ÏÇ¨Í±¥Î≤àÌò∏</label>
                                <input type="text" id="sync-search-sakunno" placeholder="ÏÇ¨Í±¥Î≤àÌò∏"
                                    class="w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none">
                            </div>
                            <div class="flex-1 min-w-[120px]">
                                <label class="block text-[10px] text-gray-500 mb-1">ÏûÖÏ∞∞ÏùºÏûê</label>
                                <input type="text" id="sync-search-indate" placeholder="Ïòà: 250212"
                                    class="w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none">
                            </div>
                            <div class="flex-1 min-w-[120px]">
                                <label class="block text-[10px] text-gray-500 mb-1">Î≤ïÏõêÎ™Ö</label>
                                <input type="text" id="sync-search-court" placeholder="Î≤ïÏõêÎ™Ö"
                                    class="w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none">
                            </div>
                            <button onclick="handleSearchSyncLogs()"
                                class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-1.5 rounded text-sm font-bold shadow transition">
                                Ï°∞Ìöå
                            </button>
                        </div>
                    </div>

                    <div id="syncImagesDetails" class="mt-4 space-y-2 content-hidden"></div>

                    <div id="syncLogsListContainer" class="mt-4 overflow-x-auto border rounded-lg content-hidden">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        ÏãúÍ∞Ñ</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        ÏÉÅÌÉú(Í≤∞Í≥º)</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        ÏÇ¨Í±¥Î≤àÌò∏</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        ÏûÖÏ∞∞Ïùº</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        Î≤ïÏõê</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        Í∏∞Ï°¥Îã¥ÎãπÏûê</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        ÌååÏùºÎã¥ÎãπÏûê</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        Î©îÏãúÏßÄ</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        image_id</th>
                                    <th
                                        class="px-3 py-2 text-left text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                                        auction_id</th>
                                </tr>
                            </thead>
                            <tbody id="syncLogsTableBody" class="bg-white divide-y divide-gray-100 text-xs">
                                <!-- Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ ÏÇΩÏûÖ -->
                            </tbody>
                        </table>
                    </div>

                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg mb-6 border border-blue-200">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Ïò•ÏÖò ÏõêÎ¨∏ ÎßÅÌÅ¨ ÏÑ§Ï†ï</h2>
                    <p class="text-sm text-gray-600 mb-2">Ïò•ÏÖò ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ Ï£ºÏÜå Ìå®ÌÑ¥ÏùÑ ÏÑ§Ï†ïÌï©ÎãàÎã§. Ïà´ÏûêÍ∞Ä Îì§Ïñ¥Í∞à ÏûêÎ¶¨Ïóê <b>[ID]</b>Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.</p>
                    <div
                        class="text-xs text-blue-600 mb-4 bg-blue-50 p-3 rounded-lg border border-blue-100 leading-relaxed">
                        <b>üí° ÏÑ§Ï†ï Î°úÏßÅ ÏïàÎÇ¥:</b><br>
                        - Ï£ºÏÜå Ï†ÑÏ≤¥Î•º Î≥µÏÇ¨Ìï¥ÏÑú ÎÑ£ÏúºÏã† ÌõÑ, <b>Ïà´Ïûê Î∂ÄÎ∂ÑÎßå [ID]Î°ú Í∞àÏïÑ ÎÅºÏö∞ÏãúÎ©¥</b> Îê©ÎãàÎã§.<br>
                        - [ID] Îí§Ïóê Ïò§Îäî Ï£ºÏÜåÍ∞íÎì§ÎèÑ <b>Î™®Îëê ÏûòÎ¶¨ÏßÄ ÏïäÍ≥† Í∑∏ÎåÄÎ°ú Ïó∞Í≤∞</b>Îê©ÎãàÎã§.<br>
                        - Ïòà: ...product_id=<b>[ID]</b>&list_ctrl=0... (Îí§Ï™Ω ÌååÎùºÎØ∏ÌÑ∞ÎèÑ Ïú†ÏßÄÎê®)
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Í≤ΩÎß§ URL Ìå®ÌÑ¥</label>
                            <input type="text" id="setting-auction-pattern" oninput="updateAuctionUrlPreview()"
                                class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                placeholder="https://.../view.php?product_id=[ID]">
                            <p id="preview-auction-url"
                                class="mt-1 text-[11px] text-gray-400 break-all bg-gray-50 p-1 rounded italic"></p>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Í≥µÎß§ URL Ìå®ÌÑ¥</label>
                            <input type="text" id="setting-gongmae-pattern" oninput="updateAuctionUrlPreview()"
                                class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                placeholder="https://.../view.php?product_id=[ID]">
                            <p id="preview-gongmae-url"
                                class="mt-1 text-[11px] text-gray-400 break-all bg-gray-50 p-1 rounded italic"></p>
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <button onclick="handleSaveAuctionSettings()"
                            class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-md font-bold">URL
                            ÏÑ§Ï†ï Ï†ÄÏû•</button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg mb-6 border border-blue-200">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">ÌÖîÎ†àÍ∑∏Îû® ÏõπÌõÖ</h2>
                    <p class="text-gray-600 mb-4 text-sm">
                        ÌÖîÎ†àÍ∑∏Îû®Ïùò <b>ÏûÖÏ∞∞ ÏöîÏ≤≠ Î≤ÑÌäº</b> Í∞ôÏùÄ ‚ÄúÏñëÎ∞©Ìñ• Í∏∞Îä•‚ÄùÏùÄ ÏõπÌõÖ ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.
                        ÏïÑÎûò Î≤ÑÌäºÏùÑ 1Î≤àÎßå ÎàåÎü¨ÏÑú Ïó∞Í≤∞Ìï¥ Ï£ºÏÑ∏Ïöî.
                    </p>
                    <div class="flex items-center space-x-4 mb-2">
                        <button id="setTelegramWebhookButton" onclick="handleSetTelegramWebhook()"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-150 flex items-center">
                            ÏõπÌõÖ ÏÑ§Ï†ï
                        </button>
                        <div id="telegramWebhookStatus" class="text-sm text-gray-600"></div>
                    </div>
                    <p class="text-gray-500 text-xs">
                        ÌïÑÏöî Ï°∞Í±¥: Ïä§ÌÅ¨Î¶ΩÌä∏ ÏÜçÏÑ± <code class="bg-gray-100 px-1.5 py-0.5 rounded">TELEGRAM_BOT_TOKEN</code> ÏÑ§Ï†ï.
                    </p>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Ïï± Ï†ïÎ≥¥</h2>
                    <p class="text-gray-600">ÌòÑÏû¨ Î≤ÑÏ†Ñ: 1.25.0 (Form Layout Reverted)</p>
                </div>
            </div>

        </div>
    </div>

    <div id="itemDetailModal" class="modal content-hidden" onclick="closeDetailModal(event)">
        <div class="modal-content" style="max-width: 800px;" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h3 class="text-2xl font-bold text-gray-800">ÏûÖÏ∞∞ Î¨ºÍ±¥ ÏÉÅÏÑ∏</h3>

                <div class="flex items-center space-x-2">
                    <!-- ÏÉÅÏÑ∏/Ï°∞ÏÇ¨ Í≥µÏö© Ìà¥Î∞î Ïä§ÌÉÄÏùº ÌÜµÌï© -->
                    <div id="modal-header-actions" class="flex items-center gap-2">
                        <!-- ÌÖîÎ†àÍ∑∏Îû® ÏÑπÏÖò -->
                        <div id="modal-telegram-toolbar" class="flex items-center gap-1">
                            <select id="telegram-style-select"
                                class="px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-white">
                                <option value="card" selected>Ï∂îÏ≤úÎ¨ºÍ±¥ ÏïàÎÇ¥</option>
                                <option value="bid_price">ÏûÖÏ∞∞Í∞Ä ÏïàÎÇ¥</option>
                                <option value="status">ÏûÖÏ∞∞Î∂àÍ∞Ä ÏïàÎÇ¥</option>
                            </select>
                            <button type="button" onclick="sendTelegramForCurrentItem()"
                                class="detail-form-btn bg-blue-600 hover:bg-blue-700 text-white rounded transition font-bold flex items-center whitespace-nowrap">
                                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 11l18-8-8 18-2-7-8-3z"></path>
                                </svg>ÌÖîÎ†àÍ∑∏Îû®
                            </button>
                        </div>

                        <!-- [Ï∂îÍ∞Ä] ÏÉÅÏÑ∏ÌÉ≠ Ïò•ÏÖòÏõê Î≤ÑÌäº -->
                        <button type="button" id="btnModalDetailAuctionGo" onclick="openAuctionUrl()"
                            class="detail-form-btn bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition">Ïò•ÏÖòÏõê
                            Í∞ÄÍ∏∞</button>

                        <!-- Ï°∞ÏÇ¨ ÏÑπÏÖò -->
                        <div id="modal-investigation-toolbar" class="content-hidden flex items-center gap-1">
                            <!-- [ÏÇ≠Ï†ú] Ï§ëÎ≥µ Î≤ÑÌäº Ï†úÍ±∞(ÏÉÅÎã® Í≥µÏö© Î≤ÑÌäº ÌôúÏö©) -->
                            <button type="button" onclick="handleModalInvestigationDelete()"
                                class="detail-form-btn bg-red-500 hover:bg-red-600 text-white rounded transition font-medium member-hidden">ÏÇ≠Ï†ú</button>
                            <button type="button" onclick="handleModalInvestigationPrint()"
                                class="detail-form-btn bg-blue-600 hover:bg-blue-700 text-white rounded transition font-medium member-hidden">Ïù∏ÏáÑ</button>
                            <button type="button" onclick="handleModalInvestigationCopy()"
                                class="detail-form-btn bg-blue-600 hover:bg-blue-700 text-white rounded transition font-medium member-hidden">Î≥µÏÇ¨</button>
                        </div>

                        <!-- ÏùºÎ∞ò Ïï°ÏÖò -->
                        <button type="button" onclick="handleModalUpdate()" id="modal-update-btn"
                            class="detail-form-btn bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-bold shadow-md transition">ÏàòÏ†ï</button>
                        <button type="button" onclick="handleModalDelete()"
                            class="detail-form-btn bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition">ÏÇ≠Ï†ú</button>
                        <button type="button" onclick="closeDetailModal()"
                            class="detail-form-btn bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-semibold transition">Ï∑®ÏÜå</button>
                    </div>

                    <button onclick="closeDetailModal()"
                        class="text-gray-500 hover:text-gray-700 focus:outline-none ml-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- ÌÉ≠ Î≤ÑÌäº -->
            <div class="flex gap-2 mb-4 border-b">
                <button type="button" id="modal-tab-detail" onclick="switchModalTab('detail')"
                    class="px-4 py-2 text-sm font-bold text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50">ÏÉÅÏÑ∏</button>
                <button type="button" id="modal-tab-investigation" onclick="switchModalTab('investigation')"
                    class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-indigo-600">Ï°∞ÏÇ¨</button>
            </div>

            <!-- ÏÉÅÏÑ∏ ÌÉ≠ ÎÇ¥Ïö© -->
            <div id="modal-detail-content" class="modal-tab-container">
                <form id="modalForm">
                    <input type="hidden" id="modalFormId">
                    <input type="hidden" id="modal-form-member-id">
                    <input type="hidden" id="modal-form-m-name2">
                    <input type="hidden" id="modal-form-reg-member">
                    <input type="hidden" id="modal-form-bid-state">
                    <input type="hidden" id="modal-form-image-id">

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÏûÖÏ∞∞ÏùºÏûê</label>
                            <input type="text" id="modal-form-in-date" onfocus="this.select()"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm bg-gray-50">
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÏÇ¨Í±¥Î≤àÌò∏</label>
                            <input type="text" id="modal-form-sakun-no" onfocus="this.select()"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm">
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Î≤ïÏõêÎ™Ö</label>
                            <input type="text" id="modal-form-court" list="modal-court-datalist" onfocus="this.select()"
                                oninput="fillCourtDatalistFiltered(this.value)" autocomplete="off" spellcheck="false"
                                onchange="validateCourt(this)"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm">
                            <datalist id="modal-court-datalist"></datalist>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Î¨ºÍ±¥ÏÉÅÌÉú</label>
                            <select id="modal-form-stu-member"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm">
                                <option value="ÏÉÅÌíà">ÏÉÅÌíà</option>
                                <option value="ÎØ∏Ï†ï">ÎØ∏Ï†ï</option>
                                <option value="Ï∂îÏ≤ú">Ï∂îÏ≤ú</option>
                                <option value="ÏûÖÏ∞∞">ÏûÖÏ∞∞</option>
                                <option value="Î≥ÄÍ≤Ω">Î≥ÄÍ≤Ω</option>
                            </select>
                        </div>
                        <div class="mb-4 md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÌöåÏõêÎ™Ö <span
                                    id="modal-display-member-id" class="ml-2 text-xs text-blue-600"></span></label>
                            <div class="flex items-center">
                                <input type="text" id="modal-form-m-name" list="modal-member-datalist"
                                    onfocus="this.select()" autocomplete="off" spellcheck="false"
                                    onchange="validateMember(this)"
                                    class="w-1/2 px-3 py-2 border border-gray-300 rounded-lg shadow-sm">
                                <datalist id="modal-member-datalist"></datalist>
                                <span id="modal-display-member-myungui" class="ml-2 text-xs text-gray-500"></span>
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="flex justify-between items-center mb-1">
                                <label class="block text-sm font-medium text-gray-700">ÏûÖÏ∞∞Í∞Ä</label>
                                <div class="space-x-1" id="modal-bid-state-buttons">
                                    <button type="button" onclick="setBidState('Ïã†Í∑ú')" id="modal-bid-state-new-btn"
                                        class="bg-red-100 hover:bg-red-200 text-red-700 text-xs px-2 py-0.5 rounded border border-red-300 transition">Ïã†Í∑ú</button>
                                    <button type="button" onclick="setBidState('Ï†ÑÎã¨ÏôÑÎ£å')"
                                        id="modal-bid-state-delivered-btn"
                                        class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded border border-gray-300 transition">Ï†ÑÎã¨ÏôÑÎ£å</button>
                                </div>
                            </div>
                            <input type="text" id="modal-form-bidprice" oninput="formatNumber(this)"
                                onfocus="this.select()"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm text-right font-bold text-gray-700">
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ÏûÖÏ∞∞Í∞ÄÎã¥Îãπ</label>
                            <select id="modal-form-m-name-id"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm bg-white">
                                <option value="ÎåÄÌëúÎãò">ÎåÄÌëúÎãò</option>
                                <option value="Ï†ÑÏ†úÌòÅ">Ï†ÑÏ†úÌòÅ</option>
                            </select>
                        </div>

                        <!-- ÌÖîÎ†àÍ∑∏Îû® Ï†ïÎ≥¥ (ÌöåÏõê ÌÖîÎ†àÍ∑∏Îû® Ï†ïÎ≥¥ - ÏùΩÍ∏∞ Ï†ÑÏö©) -->
                        <div id="modal-detail-telegram-section" class="mb-4 md:col-span-2 border-t pt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-3">ÌÖîÎ†àÍ∑∏Îû® Ï†ïÎ≥¥</label>
                            <div class="grid grid-cols-3 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">Y/N</label>
                                    <div id="modal-telegram-username"
                                        class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-sm text-gray-700">
                                        -</div>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">ÌÜ†ÌÅ∞</label>
                                    <div id="modal-member-token-display"
                                        class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-xs text-gray-700 truncate">
                                        -</div>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">ID</label>
                                    <div id="modal-telegram-chat-id"
                                        class="w-full px-3 py-2 border border-gray-200 rounded-lg shadow-sm bg-gray-50 text-sm text-gray-700">
                                        -</div>
                                </div>
                            </div>
                        </div>

                        <!-- Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï†ïÎ≥¥ (Ïù¥ÎØ∏ÏßÄ ID, ÏàòÏ†ïÎÇ†Ïßú, Îì±Î°ùÏûê, Îì±Î°ùÏùºÏûê) -->
                        <div id="modal-detail-metadata-section" class="mb-4 md:col-span-2 border-t pt-4">
                            <div class="grid grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">Ïù¥ÎØ∏ÏßÄ ID</label>
                                    <div class="text-sm text-gray-700 truncate max-w-[100px]"
                                        id="modal-image-id-display" title="">-</div>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">ÏàòÏ†ïÎÇ†Ïßú</label>
                                    <div class="text-sm text-gray-700" id="modal-mod-date">-</div>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">Îì±Î°ùÏûê</label>
                                    <div class="text-sm text-gray-700" id="modal-reg-member">-</div>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1">Îì±Î°ùÏùºÏûê</label>
                                    <div class="text-sm text-gray-700" id="modal-reg-date">-</div>
                                </div>
                            </div>
                        </div>

                        <div id="modal-detail-template-section" class="mb-4 md:col-span-2 border-t pt-4">
                            <div class="flex justify-between items-end mb-0">
                                <div class="flex space-x-1">
                                    <button type="button" id="tab-bid-guide" onclick="switchTemplateTab('guide')"
                                        class="px-4 py-2 text-sm font-bold text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50 rounded-t-lg hover:bg-indigo-100 transition">ÏûÖÏ∞∞Í∞Ä
                                        ÏïàÎÇ¥</button>
                                    <button type="button" id="tab-bid-check" onclick="switchTemplateTab('check')"
                                        class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-indigo-600 hover:bg-gray-50 rounded-t-lg transition">ÏûÖÏ∞∞Ïó¨Î∂ÄÌôïÏù∏</button>
                                </div>
                                <div class="flex items-center gap-2 mb-2">
                                    <button type="button" onclick="toggleTemplateArea()"
                                        class="text-xs text-gray-500 underline">Ï†ëÍ∏∞/Ìé¥Í∏∞</button>
                                </div>
                            </div>
                            <div id="template-area-container" class="hidden">
                                <div class="flex justify-end gap-2 mb-1">
                                    <button type="button" onclick="copyTemplateText()"
                                        class="bg-gray-200 hover:bg-gray-300 text-gray-700 text-xs px-3 py-1.5 rounded transition font-medium flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3">
                                            </path>
                                        </svg>Ï†ÑÏ≤¥ Î≥µÏÇ¨
                                    </button>
                                </div>
                                <textarea id="template-textarea"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-xs font-mono leading-tight"
                                    rows="8"></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Ï°∞ÏÇ¨ ÌÉ≠ ÎÇ¥Ïö© -->
            <div id="modal-investigation-content" class="modal-tab-container content-hidden flex flex-col">
                <div class="flex flex-col investigation-image-container-modal">
                    <div id="modal-investigation-image-container"
                        class="investigation-image-wrap flex-1 min-h-0 bg-gray-100 overflow-y-auto flex flex-col items-start">
                        <p id="modal-investigation-placeholder"
                            class="text-gray-500 text-center py-8 self-center w-full">Îß§Ïπ≠Îêú Ïù¥ÎØ∏ÏßÄ ÏóÜÏùå</p>
                        <div id="modal-investigation-image-list" class="w-full flex flex-col gap-4 p-1 content-hidden">
                        </div>
                    </div>
                    <div id="modal-investigation-image-ids-footer"
                        class="flex-shrink-0 border-t border-gray-200 bg-gray-50 px-3 py-2 text-xs text-gray-600 font-mono overflow-x-auto">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="printInvestigationArea"><img id="printInvestigationImg" alt="Ï°∞ÏÇ¨ Ïù¥ÎØ∏ÏßÄ" src="" style="display:none;">
        <p id="printInvestigationNoImage" style="display:none; padding:2rem;">Îß§Ïπ≠Îêú Ïù¥ÎØ∏ÏßÄ ÏóÜÏùå</p>
    </div>
    <?!= include('js-app'); ?>
    <!-- ÏùºÍ¥Ñ ÏÉÅÌÉú Î≥ÄÍ≤Ω Î™®Îã¨ -->
    <div id="bulkStatusModal" class="fixed inset-0 z-[60] content-hidden overflow-y-auto" aria-labelledby="modal-title"
        role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"
                onclick="closeBulkStatusModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div
                class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-bold text-gray-900" id="modal-title">Î¨ºÍ±¥ÏÉÅÌÉú ÏùºÍ¥Ñ Î≥ÄÍ≤Ω</h3>
                            <div class="mt-4">
                                <p class="text-sm text-gray-500 mb-2">ÏÑ†ÌÉùÎêú Î¨ºÍ±¥ Î™©Î°ù (Ï¥ù <span id="bulk-status-count"
                                        class="font-bold text-indigo-600">0</span>Í±¥):</p>
                                <div id="bulk-status-list"
                                    class="max-h-40 overflow-y-auto border border-gray-200 rounded-md p-2 text-xs text-gray-600 mb-4 bg-gray-50">
                                    <!-- ÏÑ†ÌÉùÎêú Î¨ºÍ±¥ Î¶¨Ïä§Ìä∏Í∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê® -->
                                </div>
                                <div class="flex flex-col gap-2">
                                    <label class="text-sm font-medium text-gray-700">Î≥ÄÍ≤ΩÌï† ÏÉÅÌÉú ÏÑ†ÌÉù:</label>
                                    <select id="bulk-new-status"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm">
                                        <option value="ÏÉÅÌíà">ÏÉÅÌíà</option>
                                        <option value="ÎØ∏Ï†ï">ÎØ∏Ï†ï</option>
                                        <option value="Ï∂îÏ≤ú">Ï∂îÏ≤ú</option>
                                        <option value="ÏûÖÏ∞∞">ÏûÖÏ∞∞</option>
                                        <option value="Î≥ÄÍ≤Ω">Î≥ÄÍ≤Ω</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2">
                    <button type="button" onclick="applyBulkStatusUpdate()"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:w-auto sm:text-sm">Î≥ÄÍ≤Ω
                        Ï†ÅÏö©</button>
                    <button type="button" onclick="closeBulkStatusModal()"
                        class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm">Ï∑®ÏÜå</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ï§ëÎ≥µ Ïù¥ÎØ∏ÏßÄ ÏùºÍ¥Ñ Ìï¥Í≤∞ Î™®Îã¨ -->
    <div id="syncConflictBulkModal" class="fixed inset-0 z-[60] content-hidden overflow-y-auto" role="dialog"
        aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                onclick="closeSyncConflictBulkModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>
            <div
                class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-red-100">
                <div class="bg-white px-6 pt-6 pb-4">
                    <div class="flex items-center mb-4">
                        <div class="bg-red-100 p-2 rounded-full mr-3 text-red-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">Ï§ëÎ≥µ Ïù¥ÎØ∏ÏßÄ ÏùºÍ¥Ñ Ï≤òÎ¶¨</h3>
                    </div>
                    <div class="mb-6">
                        <p class="text-sm text-gray-600">ÏÑ†ÌÉùÌïú <span id="bulk-sync-count"
                                class="font-extrabold text-red-600">0</span>Í±¥Ïùò Ïù¥ÎØ∏ÏßÄÎ•º Ïñ¥ÎñªÍ≤å Ï≤òÎ¶¨ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
                    </div>

                    <div class="space-y-3">
                        <!-- Í∏∞Ï°¥ Ïú†ÏßÄ ÏòµÏÖò -->
                        <button type="button" onclick="executeBulkSyncResolve('keep_existing')"
                            class="w-full text-left p-4 rounded-xl border-2 border-gray-100 hover:border-gray-300 hover:bg-gray-50 transition-all group">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-base font-bold text-gray-800">Í∏∞Ï°¥Ïú†ÏßÄ (Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Î≥¥Ï°¥)</span>
                                <span class="text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded">Ïú†ÏßÄ</span>
                            </div>
                            <p class="text-xs text-gray-500 leading-relaxed">Ïù¥ÎØ∏ÏßÄID, Ïò•ÏÖòIDÍ∞Ä Ïù¥ Ïù¥ÎØ∏ÏßÄÏùò Ï†ïÎ≥¥Î°ú ÏóÖÎç∞Ïù¥Ìä∏ Îê©ÎãàÎã§. (ÏûÖÏ∞∞Í∞ÄÎã¥ÎãπÏûêÎäî
                                Î≥ÄÍ≤ΩÎêòÏßÄ ÏïäÏäµÎãàÎã§.)</p>
                        </button>

                        <!-- Ïã†Í∑ú ÍµêÏ≤¥ ÏòµÏÖò -->
                        <button type="button" onclick="executeBulkSyncResolve('replace_with_new')"
                            class="w-full text-left p-4 rounded-xl border-2 border-red-100 hover:border-red-300 hover:bg-red-50 transition-all">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-base font-bold text-red-700">Ïã†Í∑úÍµêÏ≤¥ (Îã¥ÎãπÏûê Ï†ïÎ≥¥ ÎçÆÏñ¥Ïì∞Í∏∞)</span>
                                <span class="text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded font-bold">ÍµêÏ≤¥</span>
                            </div>
                            <p class="text-xs text-red-600/70 leading-relaxed font-medium">ÏûÖÏ∞∞Í∞ÄÎã¥ÎãπÏûê, Ïù¥ÎØ∏ÏßÄID, Ïò•ÏÖòIDÍ∞Ä Ïù¥ Ïù¥ÎØ∏ÏßÄÏùò
                                Ï†ïÎ≥¥Î°ú ÏóÖÎç∞Ïù¥Ìä∏ Îê©ÎãàÎã§.</p>
                        </button>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 flex flex-row-reverse">
                    <button type="button" onclick="closeSyncConflictBulkModal()"
                        class="px-5 py-2.5 bg-white border border-gray-300 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-100 transition shadow-sm">
                        Îã´Í∏∞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== Í≥µÏú† UI Î†àÏù¥Ïñ¥ (ÌöåÏõê ÌÉ≠ Í≥µÌÜµ - ÏµúÏÉÅÏúÑÎ°ú Î∞∞Ïπò) ===== -->
    <!-- Ï°∞ÏÇ¨ Ïù¥ÎØ∏ÏßÄ Î∑∞Ïñ¥ (position:fixed - Ïñ¥Îäê ÌÉ≠ÏóêÏÑúÎì† ÏûëÎèô) -->
    <div class="img-viewer" id="imgViewer">
        <div class="img-vh">
            <button class="img-vback" onclick="closeImgViewer()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6" />
                </svg>
                Îí§Î°ú
            </button>
            <span class="img-vtitle" id="imgVTitle"></span>
            <span class="img-vcnt" id="imgVCnt"></span>
        </div>
        <div class="img-vbody" id="imgVBody">
            <div class="img-vph" id="imgVLoad">Ïù¥ÎØ∏ÏßÄ Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
        </div>
    </div>
    <!-- Î≥µÏÇ¨ ÌÜ†Ïä§Ìä∏ -->
    <div class="copy-toast" id="copyToast">Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!</div>
    <!-- ÏûÖÏ∞∞Ï∑®ÏÜå Î™®Îã¨ -->
    <div class="mo" id="mBC">
        <div class="mx">
            <button class="mo-x" onclick="cm('mBC')">‚úï</button>
            <h3>ÏûÖÏ∞∞ Ï∑®ÏÜå Ïã†Ï≤≠</h3>
            <p id="mBD" class="mo-sub"></p>
            <p id="mBR" class="mo-result hidden"></p>
            <div class="ma">
                <button class="mm d" onclick="doBC()">Ïòà</button>
            </div>
        </div>
    </div>
    <!-- Ï∂îÏ≤ú Ïï°ÏÖò Î™®Îã¨ -->
    <div class="mo" id="mRA">
        <div class="mx">
            <button class="mo-x" onclick="cm('mRA')">‚úï</button>
            <p class="mo-label">Ïï°ÏÖòÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</p>
            <h3 id="mRT" class="mo-case"></h3>
            <p id="mRR" class="mo-result hidden"></p>
            <div class="ma">
                <button class="mm o" onclick="doRC()">ÏûÖÏ∞∞ÌôïÏ†ï</button>
                <button class="mm d" onclick="doRX()">ÏûÖÏ∞∞Ï∑®ÏÜå</button>
            </div>
        </div>
    </div>

    <!-- Ï†ÑÏó≠ Ï∂©Îèå ÎßêÌíçÏÑ† Ìà¥ÌåÅ -->
    <div id="g-conflict-tooltip"></div>

</body>

</html>